/*! @license Firebase v2.2.9
    License: https://www.firebase.com/terms/terms-of-service.html */
var g,aa=this;function n(a){return void 0!==a}function ba(){}function ca(a){a.sb=function(){return a.rf?a.rf:a.rf=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return q.apply(null,arguments)}var la=Date.now||function(){return+new Date};
function ma(a,b){function c(){}c.prototype=b.prototype;a.dh=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Xg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function t(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function na(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function oa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function pa(a){var b=0,c;for(c in a)b++;return b}function qa(a){for(var b in a)return b}function ra(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function sa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ta(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function ua(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function va(a,b){var c=ua(a,b,void 0);return c&&a[c]}function wa(a){for(var b in a)return!1;return!0}function xa(a){var b={},c;for(c in a)b[c]=a[c];return b}var ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function za(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ya.length;f++)c=ya[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Aa(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Ba(){this.Qd=void 0}
function Ca(a,b,c){switch(typeof b){case "string":Da(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ca(a,a.Qd?a.Qd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Da(f,c),
c.push(":"),Ca(a,a.Qd?a.Qd.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Fa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Da(a,b){b.push('"',a.replace(Fa,function(a){if(a in Ea)return Ea[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Ea[a]=e+b.toString(16)}),'"')};function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)};var Ha;a:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break a}}Ha=""};function Ka(){this.Va=-1};function La(){this.Va=-1;this.Va=64;this.P=[];this.je=[];this.Tf=[];this.Jd=[];this.Jd[0]=128;for(var a=1;a<this.Va;++a)this.Jd[a]=0;this.be=this.$b=0;this.reset()}ma(La,Ka);La.prototype.reset=function(){this.P[0]=1732584193;this.P[1]=4023233417;this.P[2]=2562383102;this.P[3]=271733878;this.P[4]=3285377520;this.be=this.$b=0};
function Ma(a,b,c){c||(c=0);var d=a.Tf;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.P[0];c=a.P[1];for(var h=a.P[2],k=a.P[3],l=a.P[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(h^k),m=1518500249):(f=c^h^k,m=1859775393):60>e?(f=c&h|k&(c|h),m=2400959708):(f=c^h^k,m=3395469782),f=(b<<
5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=h,h=(c<<30|c>>>2)&4294967295,c=b,b=f;a.P[0]=a.P[0]+b&4294967295;a.P[1]=a.P[1]+c&4294967295;a.P[2]=a.P[2]+h&4294967295;a.P[3]=a.P[3]+k&4294967295;a.P[4]=a.P[4]+l&4294967295}
La.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.Va,d=0,e=this.je,f=this.$b;d<b;){if(0==f)for(;d<=c;)Ma(this,a,d),d+=this.Va;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Va){Ma(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Va){Ma(this,e);f=0;break}}this.$b=f;this.be+=b}};var u=Array.prototype,Na=u.indexOf?function(a,b,c){return u.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Oa=u.forEach?function(a,b,c){u.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Pa=u.filter?function(a,b,c){return u.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=p(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Qa=u.map?function(a,b,c){return u.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ra=u.reduce?function(a,b,c,d){for(var e=[],f=1,h=arguments.length;f<h;f++)e.push(arguments[f]);d&&(e[0]=q(b,d));return u.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Oa(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Sa=u.every?function(a,b,
c){return u.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ta(a,b){var c=Ua(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Ua(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Va(a,b){var c=Na(a,b);0<=c&&u.splice.call(a,c,1)}function Wa(a,b){a.sort(b||Xa)}function Xa(a,b){return a>b?1:a<b?-1:0};var Ya=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),Za=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),$a=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),ab=-1!=Ha.toLowerCase().indexOf("webkit");
(function(){var a="",b;if(Ya&&aa.opera)return a=aa.opera.version,ha(a)?a():a;$a?b=/rv\:([^\);]+)(\)|;)/:Za?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:ab&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ha))?a[1]:"");return Za&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var bb=null,cb=null;
function db(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");if(!bb){bb={};cb={};for(var c=0;65>c;c++)bb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),cb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?cb:bb,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,k=h?a[e+1]:0,l=e+2<a.length,m=l?a[e+2]:0,r=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|m>>6,m=m&63;l||(m=64,h||(k=64));d.push(c[r],c[f],c[k],c[m])}return d.join("")}
;var eb=eb||"2.2.9";function v(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function w(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function fb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function gb(a){var b={};fb(a,function(a,d){b[a]=d});return b};function hb(a){var b=[];fb(a,function(a,d){ea(d)?Oa(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function ib(a){var b={};a=a.replace(/^\?/,"").split("&");Oa(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b};function y(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function z(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function A(a,b,c,d){if((!d||n(c))&&!ha(c))throw Error(z(a,b,d)+"must be a valid function.");}function jb(a,b,c){if(n(c)&&(!ia(c)||null===c))throw Error(z(a,b,!0)+"must be a valid context object.");};function kb(a){return"undefined"!==typeof JSON&&n(JSON.parse)?JSON.parse(a):Aa(a)}function B(a){if("undefined"!==typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ca(new Ba,a,b);a=b.join("")}return a};function lb(){this.Ud=C}lb.prototype.j=function(a){return this.Ud.Y(a)};lb.prototype.toString=function(){return this.Ud.toString()};function mb(){}mb.prototype.nf=function(){return null};mb.prototype.ve=function(){return null};var nb=new mb;function ob(a,b,c){this.Qf=a;this.Ja=b;this.Id=c}ob.prototype.nf=function(a){var b=this.Ja.Q;if(pb(b,a))return b.j().J(a);b=null!=this.Id?new qb(this.Id,!0,!1):this.Ja.C();return this.Qf.wc(a,b)};ob.prototype.ve=function(a,b,c){var d=null!=this.Id?this.Id:rb(this.Ja);a=this.Qf.ke(d,b,1,c,a);return 0===a.length?null:a[0]};function sb(){this.rb=[]}function tb(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Yb();null===c||f.ca(c.Yb())||(a.rb.push(c),c=null);null===c&&(c=new ub(f));c.add(e)}c&&a.rb.push(c)}function vb(a,b,c){tb(a,c);wb(a,function(a){return a.ca(b)})}function xb(a,b,c){tb(a,c);wb(a,function(a){return a.contains(b)||b.contains(a)})}
function wb(a,b){for(var c=!0,d=0;d<a.rb.length;d++){var e=a.rb[d];if(e)if(e=e.Yb(),b(e)){for(var e=a.rb[d],f=0;f<e.sd.length;f++){var h=e.sd[f];if(null!==h){e.sd[f]=null;var k=h.Ub();yb&&zb("event: "+h.toString());Ab(k)}}a.rb[d]=null}else c=!1}c&&(a.rb=[])}function ub(a){this.ra=a;this.sd=[]}ub.prototype.add=function(a){this.sd.push(a)};ub.prototype.Yb=function(){return this.ra};function D(a,b,c,d){this.type=a;this.Ia=b;this.Wa=c;this.Ie=d;this.Od=void 0}function Bb(a){return new D(Cb,a)}var Cb="value";function Db(a,b,c,d){this.re=b;this.Xd=c;this.Od=d;this.rd=a}Db.prototype.Yb=function(){var a=this.Xd.lc();return"value"===this.rd?a.path:a.parent().path};Db.prototype.we=function(){return this.rd};Db.prototype.Ub=function(){return this.re.Ub(this)};Db.prototype.toString=function(){return this.Yb().toString()+":"+this.rd+":"+B(this.Xd.jf())};function Eb(a,b,c){this.re=a;this.error=b;this.path=c}Eb.prototype.Yb=function(){return this.path};Eb.prototype.we=function(){return"cancel"};
Eb.prototype.Ub=function(){return this.re.Ub(this)};Eb.prototype.toString=function(){return this.path.toString()+":cancel"};function qb(a,b,c){this.w=a;this.ea=b;this.Tb=c}function Fb(a){return a.ea}function Gb(a,b){return b.e()?a.ea&&!a.Tb:pb(a,E(b))}function pb(a,b){return a.ea&&!a.Tb||a.w.Da(b)}qb.prototype.j=function(){return this.w};function Hb(a){this.dg=a;this.Ad=null}Hb.prototype.get=function(){var a=this.dg.get(),b=xa(a);if(this.Ad)for(var c in this.Ad)b[c]-=this.Ad[c];this.Ad=a;return b};function Ib(a,b){this.Mf={};this.cd=new Hb(a);this.ba=b;var c=1E4+2E4*Math.random();setTimeout(q(this.Gf,this),Math.floor(c))}Ib.prototype.Gf=function(){var a=this.cd.get(),b={},c=!1,d;for(d in a)0<a[d]&&v(this.Mf,d)&&(b[d]=a[d],c=!0);c&&this.ba.Se(b);setTimeout(q(this.Gf,this),Math.floor(6E5*Math.random()))};function Jb(){this.Cc={}}function Kb(a,b,c){n(c)||(c=1);v(a.Cc,b)||(a.Cc[b]=0);a.Cc[b]+=c}Jb.prototype.get=function(){return xa(this.Cc)};var Lb={},Mb={};function Nb(a){a=a.toString();Lb[a]||(Lb[a]=new Jb);return Lb[a]}function Ob(a,b){var c=a.toString();Mb[c]||(Mb[c]=b());return Mb[c]};function F(a,b){this.name=a;this.S=b}function Pb(a,b){return new F(a,b)};function Qb(a,b){return Rb(a.name,b.name)}function Sb(a,b){return Rb(a,b)};function Tb(a,b,c){this.type=Ub;this.source=a;this.path=b;this.Fa=c}Tb.prototype.Vc=function(a){return this.path.e()?new Tb(this.source,G,this.Fa.J(a)):new Tb(this.source,H(this.path),this.Fa)};Tb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Fa.toString()+")"};function Vb(a,b){this.type=Wb;this.source=a;this.path=b}Vb.prototype.Vc=function(){return this.path.e()?new Vb(this.source,G):new Vb(this.source,H(this.path))};Vb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function Xb(a,b){this.Ka=a;this.wa=b?b:Yb}g=Xb.prototype;g.Na=function(a,b){return new Xb(this.Ka,this.wa.Na(a,b,this.Ka).X(null,null,!1,null,null))};g.remove=function(a){return new Xb(this.Ka,this.wa.remove(a,this.Ka).X(null,null,!1,null,null))};g.get=function(a){for(var b,c=this.wa;!c.e();){b=this.Ka(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function Zb(a,b){for(var c,d=a.wa,e=null;!d.e();){c=a.Ka(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}g.e=function(){return this.wa.e()};g.count=function(){return this.wa.count()};g.Qc=function(){return this.wa.Qc()};g.ec=function(){return this.wa.ec()};g.ia=function(a){return this.wa.ia(a)};
g.Wb=function(a){return new $b(this.wa,null,this.Ka,!1,a)};g.Xb=function(a,b){return new $b(this.wa,a,this.Ka,!1,b)};g.Zb=function(a,b){return new $b(this.wa,a,this.Ka,!0,b)};g.pf=function(a){return new $b(this.wa,null,this.Ka,!0,a)};function $b(a,b,c,d,e){this.Sd=e||null;this.Ce=d;this.Pa=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.Ce?a.left:a.right;else if(0===e){this.Pa.push(a);break}else this.Pa.push(a),a=this.Ce?a.right:a.left}
function I(a){if(0===a.Pa.length)return null;var b=a.Pa.pop(),c;c=a.Sd?a.Sd(b.key,b.value):{key:b.key,value:b.value};if(a.Ce)for(b=b.left;!b.e();)a.Pa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Pa.push(b),b=b.left;return c}function ac(a){if(0===a.Pa.length)return null;var b;b=a.Pa;b=b[b.length-1];return a.Sd?a.Sd(b.key,b.value):{key:b.key,value:b.value}}function bc(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Yb;this.right=null!=e?e:Yb}g=bc.prototype;
g.X=function(a,b,c,d,e){return new bc(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};g.count=function(){return this.left.count()+1+this.right.count()};g.e=function(){return!1};g.ia=function(a){return this.left.ia(a)||a(this.key,this.value)||this.right.ia(a)};function cc(a){return a.left.e()?a:cc(a.left)}g.Qc=function(){return cc(this).key};g.ec=function(){return this.right.e()?this.key:this.right.ec()};
g.Na=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.X(null,null,null,e.left.Na(a,b,c),null):0===d?e.X(null,b,null,null,null):e.X(null,null,null,null,e.right.Na(a,b,c));return dc(e)};function ec(a){if(a.left.e())return Yb;a.left.fa()||a.left.left.fa()||(a=fc(a));a=a.X(null,null,null,ec(a.left),null);return dc(a)}
g.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.fa()||c.left.left.fa()||(c=fc(c)),c=c.X(null,null,null,c.left.remove(a,b),null);else{c.left.fa()&&(c=gc(c));c.right.e()||c.right.fa()||c.right.left.fa()||(c=hc(c),c.left.left.fa()&&(c=gc(c),c=hc(c)));if(0===b(a,c.key)){if(c.right.e())return Yb;d=cc(c.right);c=c.X(d.key,d.value,null,null,ec(c.right))}c=c.X(null,null,null,null,c.right.remove(a,b))}return dc(c)};g.fa=function(){return this.color};
function dc(a){a.right.fa()&&!a.left.fa()&&(a=ic(a));a.left.fa()&&a.left.left.fa()&&(a=gc(a));a.left.fa()&&a.right.fa()&&(a=hc(a));return a}function fc(a){a=hc(a);a.right.left.fa()&&(a=a.X(null,null,null,null,gc(a.right)),a=ic(a),a=hc(a));return a}function ic(a){return a.right.X(null,null,a.color,a.X(null,null,!0,null,a.right.left),null)}function gc(a){return a.left.X(null,null,a.color,null,a.X(null,null,!0,a.left.right,null))}
function hc(a){return a.X(null,null,!a.color,a.left.X(null,null,!a.left.color,null,null),a.right.X(null,null,!a.right.color,null,null))}function jc(){}g=jc.prototype;g.X=function(){return this};g.Na=function(a,b){return new bc(a,b,null)};g.remove=function(){return this};g.count=function(){return 0};g.e=function(){return!0};g.ia=function(){return!1};g.Qc=function(){return null};g.ec=function(){return null};g.fa=function(){return!1};var Yb=new jc;(function(){var a=process.version;if("v0.10.22"===a||"v0.10.23"===a||"v0.10.24"===a){var b=function(a,b,c){this.chunk=a;this.encoding=b;this.callback=c},c=function(a,c,d,e,m){c.objectMode||!1===c.decodeStrings||"string"!==typeof d||(d=new Buffer(d,e));Buffer.isBuffer(d)&&(e="buffer");var r=c.objectMode?1:d.length;c.length+=r;var x=c.length<c.highWaterMark;x||(c.needDrain=!0);c.writing?c.buffer.push(new b(d,e,m)):(c.writelen=r,c.writecb=m,c.writing=!0,c.sync=!0,a._write(d,e,c.onwrite),c.sync=!1);return x},
d=function(a,b,c,d){var e=!0;if(!Buffer.isBuffer(c)&&"string"!==typeof c&&null!==c&&void 0!==c&&!b.objectMode){var r=new TypeError("Invalid non-string/buffer chunk");a.emit("error",r);process.nextTick(function(){d(r)});e=!1}return e},e=function(a,b){var c=Error("write after end");a.emit("error",c);process.nextTick(function(){b(c)})},a=require("_stream_writable");a.prototype.write=function(a,b,k){var l=this._writableState,m=!1;"function"===typeof b&&(k=b,b=null);Buffer.isBuffer(a)?b="buffer":b||(b=
l.defaultEncoding);"function"!==typeof k&&(k=function(){});l.ended?e(this,k):d(this,l,a,k)&&(m=c(this,l,a,b,k));return m};require("_stream_duplex").prototype.write=a.prototype.write}})();function kc(a,b){return a&&"object"===typeof a?(K(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function lc(a,b){var c=new mc;nc(a,new L(""),function(a,e){c.mc(a,oc(e,b))});return c}function oc(a,b){var c=a.B().H(),c=kc(c,b),d;if(a.L()){var e=kc(a.Ca(),b);return e!==a.Ca()||c!==a.B().H()?new pc(e,M(c)):a}d=a;c!==a.B().H()&&(d=d.ga(new pc(c)));a.R(N,function(a,c){var e=oc(c,b);e!==c&&(d=d.O(a,e))});return d};function L(a,b){if(1==arguments.length){this.n=a.split("/");for(var c=0,d=0;d<this.n.length;d++)0<this.n[d].length&&(this.n[c]=this.n[d],c++);this.n.length=c;this.Z=0}else this.n=a,this.Z=b}function O(a,b){var c=E(a);if(null===c)return b;if(c===E(b))return O(H(a),H(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}function E(a){return a.Z>=a.n.length?null:a.n[a.Z]}function qc(a){return a.n.length-a.Z}
function H(a){var b=a.Z;b<a.n.length&&b++;return new L(a.n,b)}function rc(a){return a.Z<a.n.length?a.n[a.n.length-1]:null}g=L.prototype;g.toString=function(){for(var a="",b=this.Z;b<this.n.length;b++)""!==this.n[b]&&(a+="/"+this.n[b]);return a||"/"};g.slice=function(a){return this.n.slice(this.Z+(a||0))};g.parent=function(){if(this.Z>=this.n.length)return null;for(var a=[],b=this.Z;b<this.n.length-1;b++)a.push(this.n[b]);return new L(a,0)};
g.u=function(a){for(var b=[],c=this.Z;c<this.n.length;c++)b.push(this.n[c]);if(a instanceof L)for(c=a.Z;c<a.n.length;c++)b.push(a.n[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new L(b,0)};g.e=function(){return this.Z>=this.n.length};g.ca=function(a){if(qc(this)!==qc(a))return!1;for(var b=this.Z,c=a.Z;b<=this.n.length;b++,c++)if(this.n[b]!==a.n[c])return!1;return!0};
g.contains=function(a){var b=this.Z,c=a.Z;if(qc(this)>qc(a))return!1;for(;b<this.n.length;){if(this.n[b]!==a.n[c])return!1;++b;++c}return!0};var G=new L("");function sc(a,b){this.Qa=a.slice();this.Ga=Math.max(1,this.Qa.length);this.hf=b;for(var c=0;c<this.Qa.length;c++)this.Ga+=tc(this.Qa[c]);uc(this)}sc.prototype.push=function(a){0<this.Qa.length&&(this.Ga+=1);this.Qa.push(a);this.Ga+=tc(a);uc(this)};sc.prototype.pop=function(){var a=this.Qa.pop();this.Ga-=tc(a);0<this.Qa.length&&--this.Ga};
function uc(a){if(768<a.Ga)throw Error(a.hf+"has a key path longer than 768 bytes ("+a.Ga+").");if(32<a.Qa.length)throw Error(a.hf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vc(a));}function vc(a){return 0==a.Qa.length?"":"in property '"+a.Qa.join(".")+"'"};function wc(){this.vc={}}wc.prototype.set=function(a,b){null==b?delete this.vc[a]:this.vc[a]=b};wc.prototype.get=function(a){return v(this.vc,a)?this.vc[a]:null};wc.prototype.remove=function(a){delete this.vc[a]};wc.prototype.sf=!0;function xc(a){this.Dc=a;this.Nd="firebase:"}g=xc.prototype;g.set=function(a,b){null==b?this.Dc.removeItem(this.Nd+a):this.Dc.setItem(this.Nd+a,B(b))};g.get=function(a){a=this.Dc.getItem(this.Nd+a);return null==a?null:kb(a)};g.remove=function(a){this.Dc.removeItem(this.Nd+a)};g.sf=!1;g.toString=function(){return this.Dc.toString()};function yc(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new xc(b)}}catch(c){}return new wc}var zc=yc("localStorage"),Ac=yc("sessionStorage");function Bc(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.ib=b;this.Ab=c;this.Vg=d;this.Md=e||"";this.Oa=zc.get("host:"+a)||this.host}function Cc(a,b){b!==a.Oa&&(a.Oa=b,"s-"===a.Oa.substr(0,2)&&zc.set("host:"+a.host,a.Oa))}Bc.prototype.toString=function(){var a=(this.ib?"https://":"http://")+this.host;this.Md&&(a+="<"+this.Md+">");return a};var Dc=function(){var a=1;return function(){return a++}}();function K(a,b){if(!a)throw Ec(b);}function Ec(a){return Error("Firebase ("+eb+") INTERNAL ASSERT FAILED: "+a)}function Fc(a){try{return(new Buffer(a,"base64")).toString("utf8")}catch(b){zb("base64Decode failed: ",b)}return null}
function Gc(a){var b=Hc(a);a=new La;a.update(b);var b=[],c=8*a.be;56>a.$b?a.update(a.Jd,56-a.$b):a.update(a.Jd,a.Va-(a.$b-56));for(var d=a.Va-1;56<=d;d--)a.je[d]=c&255,c/=256;Ma(a,a.je);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.P[d]>>e&255,++c;return db(b)}function Ic(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+Ic.apply(null,arguments[c]):"object"===typeof arguments[c]?b+B(arguments[c]):b+arguments[c],b+=" ";return b}var yb=null,Jc=!0;
function zb(a){!0===Jc&&(Jc=!1,null===yb&&!0===Ac.get("logging_enabled")&&Kc(!0));if(yb){var b=Ic.apply(null,arguments);yb(b)}}function Lc(a){return function(){zb(a,arguments)}}function Mc(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+Ic.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function Nc(a){var b=Ic.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}
function P(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+Ic.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function Oc(a){var b="",c="",d="",e="",f=!0,h="https",k=443;if(p(a)){var l=a.indexOf("//");0<=l&&(h=a.substring(0,l-1),a=a.substring(l+2));l=a.indexOf("/");-1===l&&(l=a.length);b=a.substring(0,l);e="";a=a.substring(l).split("/");for(l=0;l<a.length;l++)if(0<a[l].length){var m=a[l];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(r){}e+="/"+m}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);l=b.indexOf(":");0<=l&&(f="https"===h||"wss"===h,k=b.substring(l+1),isFinite(k)&&
(k=String(k)),k=p(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,Rg:d,ib:f,scheme:h,jc:e}}function Pc(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Qc(a){a()}function Rb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=Rc(a),d=Rc(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}
function Sc(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+B(b));}function Tc(a){if("object"!==typeof a||null===a)return B(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=B(b[d]),c+=":",c+=Tc(a[b[d]]);return c+"}"}function Uc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}
function Vc(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else t(a,b)}
function Wc(a){K(!Pc(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Xc=/^-?\d{1,10}$/;function Rc(a){return Xc.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Ab(a){try{a()}catch(b){setTimeout(function(){P("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function Q(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();Ab(function(){a.apply(null,c)})}};function Hc(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,K(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function tc(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function Yc(a){var b={},c={},d={},e="";try{var f=a.split("."),b=kb(Fc(f[0])||""),c=kb(Fc(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(h){}return{$g:b,Ac:c,data:d,Og:e}}function Zc(a){a=Yc(a).Ac;return"object"===typeof a&&a.hasOwnProperty("iat")?w(a,"iat"):null}function $c(a){a=Yc(a);var b=a.Ac;return!!a.Og&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function ad(a){this.V=a;this.g=a.o.g}function bd(a,b,c,d){var e=[],f=[];Oa(b,function(b){"child_changed"===b.type&&a.g.xd(b.Ie,b.Ia)&&f.push(new D("child_moved",b.Ia,b.Wa))});cd(a,e,"child_removed",b,d,c);cd(a,e,"child_added",b,d,c);cd(a,e,"child_moved",f,d,c);cd(a,e,"child_changed",b,d,c);cd(a,e,Cb,b,d,c);return e}function cd(a,b,c,d,e,f){d=Pa(d,function(a){return a.type===c});Wa(d,q(a.fg,a));Oa(d,function(c){var d=dd(a,c,f);Oa(e,function(e){e.If(c.type)&&b.push(e.createEvent(d,a.V))})})}
function dd(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Od=c.of(b.Wa,b.Ia,a.g));return b}ad.prototype.fg=function(a,b){if(null==a.Wa||null==b.Wa)throw Ec("Should only compare child_ events.");return this.g.compare(new F(a.Wa,a.Ia),new F(b.Wa,b.Ia))};function ed(){this.ab={}}
function fd(a,b){var c=b.type,d=b.Wa;K("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");K(".priority"!==d,"Only non-priority child changes can be tracked.");var e=w(a.ab,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.ab[d]=new D("child_changed",b.Ia,d,e.Ia);else if("child_removed"==c&&"child_added"==f)delete a.ab[d];else if("child_removed"==c&&"child_changed"==f)a.ab[d]=new D("child_removed",e.Ie,d);else if("child_changed"==c&&
"child_added"==f)a.ab[d]=new D("child_added",b.Ia,d);else if("child_changed"==c&&"child_changed"==f)a.ab[d]=new D("child_changed",b.Ia,d,e.Ie);else throw Ec("Illegal combination of changes: "+b+" occurred after "+e);}else a.ab[d]=b};function gd(a,b,c){this.Ob=a;this.nb=b;this.pb=c||null}g=gd.prototype;g.If=function(a){return"value"===a};g.createEvent=function(a,b){var c=b.o.g;return new Db("value",this,new R(a.Ia,b.lc(),c))};g.Ub=function(a){var b=this.pb;if("cancel"===a.we()){K(this.nb,"Raising a cancel event on a listener with no cancel callback");var c=this.nb;return function(){c.call(b,a.error)}}var d=this.Ob;return function(){d.call(b,a.Xd)}};g.df=function(a,b){return this.nb?new Eb(this,a,b):null};
g.matches=function(a){return a instanceof gd?a.Ob&&this.Ob?a.Ob===this.Ob&&a.pb===this.pb:!0:!1};g.qf=function(){return null!==this.Ob};function hd(a,b,c){this.ha=a;this.nb=b;this.pb=c}g=hd.prototype;g.If=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ha};g.df=function(a,b){return this.nb?new Eb(this,a,b):null};
g.createEvent=function(a,b){K(null!=a.Wa,"Child events should have a childName.");var c=b.lc().u(a.Wa);return new Db(a.type,this,new R(a.Ia,c,b.o.g),a.Od)};g.Ub=function(a){var b=this.pb;if("cancel"===a.we()){K(this.nb,"Raising a cancel event on a listener with no cancel callback");var c=this.nb;return function(){c.call(b,a.error)}}var d=this.ha[a.rd];return function(){d.call(b,a.Xd,a.Od)}};
g.matches=function(a){if(a instanceof hd){if(!this.ha||!a.ha)return!0;if(this.pb===a.pb){var b=pa(a.ha);if(b===pa(this.ha)){if(1===b){var b=qa(a.ha),c=qa(this.ha);return c===b&&(!a.ha[b]||!this.ha[c]||a.ha[b]===this.ha[c])}return oa(this.ha,function(b,c){return a.ha[c]===b})}}}return!1};g.qf=function(){return null!==this.ha};function id(a){this.g=a}g=id.prototype;g.K=function(a,b,c,d,e,f){K(a.Hc(this.g),"A node must be indexed if only a child is updated");e=a.J(b);if(e.Y(d).ca(c.Y(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Da(b)?fd(f,new D("child_removed",e,b)):K(a.L(),"A child remove without an old child only makes sense on a leaf node"):e.e()?fd(f,new D("child_added",c,b)):fd(f,new D("child_changed",c,b,e)));return a.L()&&c.e()?a:a.O(b,c).jb(this.g)};
g.xa=function(a,b,c){null!=c&&(a.L()||a.R(N,function(a,e){b.Da(a)||fd(c,new D("child_removed",e,a))}),b.L()||b.R(N,function(b,e){if(a.Da(b)){var f=a.J(b);f.ca(e)||fd(c,new D("child_changed",e,b,f))}else fd(c,new D("child_added",e,b))}));return b.jb(this.g)};g.ga=function(a,b){return a.e()?C:a.ga(b)};g.Ma=function(){return!1};g.Vb=function(){return this};function jd(a){this.ye=new id(a.g);this.g=a.g;var b;a.ma?(b=kd(a),b=a.g.Nc(ld(a),b)):b=a.g.Rc();this.bd=b;a.pa?(b=md(a),a=a.g.Nc(nd(a),b)):a=a.g.Oc();this.Ec=a}g=jd.prototype;g.matches=function(a){return 0>=this.g.compare(this.bd,a)&&0>=this.g.compare(a,this.Ec)};g.K=function(a,b,c,d,e,f){this.matches(new F(b,c))||(c=C);return this.ye.K(a,b,c,d,e,f)};
g.xa=function(a,b,c){b.L()&&(b=C);var d=b.jb(this.g),d=d.ga(C),e=this;b.R(N,function(a,b){e.matches(new F(a,b))||(d=d.O(a,C))});return this.ye.xa(a,d,c)};g.ga=function(a){return a};g.Ma=function(){return!0};g.Vb=function(){return this.ye};function od(a){this.sa=new jd(a);this.g=a.g;K(a.ja,"Only valid if limit has been set");this.ka=a.ka;this.Gb=!pd(a)}g=od.prototype;g.K=function(a,b,c,d,e,f){this.sa.matches(new F(b,c))||(c=C);return a.J(b).ca(c)?a:a.Bb()<this.ka?this.sa.Vb().K(a,b,c,d,e,f):qd(this,a,b,c,e,f)};
g.xa=function(a,b,c){var d;if(b.L()||b.e())d=C.jb(this.g);else if(2*this.ka<b.Bb()&&b.Hc(this.g)){d=C.jb(this.g);b=this.Gb?b.Zb(this.sa.Ec,this.g):b.Xb(this.sa.bd,this.g);for(var e=0;0<b.Pa.length&&e<this.ka;){var f=I(b),h;if(h=this.Gb?0>=this.g.compare(this.sa.bd,f):0>=this.g.compare(f,this.sa.Ec))d=d.O(f.name,f.S),e++;else break}}else{d=b.jb(this.g);d=d.ga(C);var k,l,m;if(this.Gb){b=d.pf(this.g);k=this.sa.Ec;l=this.sa.bd;var r=rd(this.g);m=function(a,b){return r(b,a)}}else b=d.Wb(this.g),k=this.sa.bd,
l=this.sa.Ec,m=rd(this.g);for(var e=0,x=!1;0<b.Pa.length;)f=I(b),!x&&0>=m(k,f)&&(x=!0),(h=x&&e<this.ka&&0>=m(f,l))?e++:d=d.O(f.name,C)}return this.sa.Vb().xa(a,d,c)};g.ga=function(a){return a};g.Ma=function(){return!0};g.Vb=function(){return this.sa.Vb()};
function qd(a,b,c,d,e,f){var h;if(a.Gb){var k=rd(a.g);h=function(a,b){return k(b,a)}}else h=rd(a.g);K(b.Bb()==a.ka,"");var l=new F(c,d),m=a.Gb?sd(b,a.g):ud(b,a.g),r=a.sa.matches(l);if(b.Da(c)){for(var x=b.J(c),m=e.ve(a.g,m,a.Gb);null!=m&&(m.name==c||b.Da(m.name));)m=e.ve(a.g,m,a.Gb);e=null==m?1:h(m,l);if(r&&!d.e()&&0<=e)return null!=f&&fd(f,new D("child_changed",d,c,x)),b.O(c,d);null!=f&&fd(f,new D("child_removed",x,c));b=b.O(c,C);return null!=m&&a.sa.matches(m)?(null!=f&&fd(f,new D("child_added",
m.S,m.name)),b.O(m.name,m.S)):b}return d.e()?b:r&&0<=h(m,l)?(null!=f&&(fd(f,new D("child_removed",m.S,m.name)),fd(f,new D("child_added",d,c))),b.O(c,d).O(m.name,C)):b};function vd(a,b){this.ge=a;this.cg=b}function wd(a){this.U=a}
wd.prototype.$a=function(a,b,c,d){var e=new ed,f;if(b.type===Ub)b.source.te?c=xd(this,a,b.path,b.Fa,c,d,e):(K(b.source.mf,"Unknown source."),f=b.source.Ze,c=yd(this,a,b.path,b.Fa,c,d,f,e));else if(b.type===zd)b.source.te?c=Ad(this,a,b.path,b.children,c,d,e):(K(b.source.mf,"Unknown source."),f=b.source.Ze,c=Bd(this,a,b.path,b.children,c,d,f,e));else if(b.type===Cd)if(b.Td)if(b=b.path,null!=c.sc(b))c=a;else{f=new ob(c,a,d);d=a.Q.j();if(b.e()||".priority"===E(b))Fb(a.C())?b=c.za(rb(a)):(b=a.C().j(),
K(b instanceof S,"serverChildren would be complete if leaf node"),b=c.xc(b)),b=this.U.xa(d,b,e);else{var h=E(b),k=c.wc(h,a.C());null==k&&pb(a.C(),h)&&(k=d.J(h));b=null!=k?this.U.K(d,h,k,H(b),f,e):a.Q.j().Da(h)?this.U.K(d,h,C,H(b),f,e):d;b.e()&&Fb(a.C())&&(d=c.za(rb(a)),d.L()&&(b=this.U.xa(b,d,e)))}d=Fb(a.C())||null!=c.sc(G);c=Dd(a,b,d,this.U.Ma())}else c=Ed(this,a,b.path,b.Nb,c,d,e);else if(b.type===Wb)d=b.path,b=a.C(),f=b.j(),h=b.ea||d.e(),c=Fd(this,new Gd(a.Q,new qb(f,h,b.Tb)),d,c,nb,e);else throw Ec("Unknown operation type: "+
b.type);e=ra(e.ab);d=c;b=d.Q;b.ea&&(f=b.j().L()||b.j().e(),h=Hd(a),(0<e.length||!a.Q.ea||f&&!b.j().ca(h)||!b.j().B().ca(h.B()))&&e.push(Bb(Hd(d))));return new vd(c,e)};
function Fd(a,b,c,d,e,f){var h=b.Q;if(null!=d.sc(c))return b;var k;if(c.e())K(Fb(b.C()),"If change path is empty, we must have complete server data"),b.C().Tb?(e=rb(b),d=d.xc(e instanceof S?e:C)):d=d.za(rb(b)),f=a.U.xa(b.Q.j(),d,f);else{var l=E(c);if(".priority"==l)K(1==qc(c),"Can't have a priority with additional path components"),f=h.j(),k=b.C().j(),d=d.hd(c,f,k),f=null!=d?a.U.ga(f,d):h.j();else{var m=H(c);pb(h,l)?(k=b.C().j(),d=d.hd(c,h.j(),k),d=null!=d?h.j().J(l).K(m,d):h.j().J(l)):d=d.wc(l,b.C());
f=null!=d?a.U.K(h.j(),l,d,m,e,f):h.j()}}return Dd(b,f,h.ea||c.e(),a.U.Ma())}function yd(a,b,c,d,e,f,h,k){var l=b.C();h=h?a.U:a.U.Vb();if(c.e())d=h.xa(l.j(),d,null);else if(h.Ma()&&!l.Tb)d=l.j().K(c,d),d=h.xa(l.j(),d,null);else{var m=E(c);if(!Gb(l,c)&&1<qc(c))return b;var r=H(c);d=l.j().J(m).K(r,d);d=".priority"==m?h.ga(l.j(),d):h.K(l.j(),m,d,r,nb,null)}l=l.ea||c.e();b=new Gd(b.Q,new qb(d,l,h.Ma()));return Fd(a,b,c,e,new ob(e,b,f),k)}
function xd(a,b,c,d,e,f,h){var k=b.Q;e=new ob(e,b,f);if(c.e())h=a.U.xa(b.Q.j(),d,h),a=Dd(b,h,!0,a.U.Ma());else if(f=E(c),".priority"===f)h=a.U.ga(b.Q.j(),d),a=Dd(b,h,k.ea,k.Tb);else{c=H(c);var l=k.j().J(f);if(!c.e()){var m=e.nf(f);d=null!=m?".priority"===rc(c)&&m.Y(c.parent()).e()?m:m.K(c,d):C}l.ca(d)?a=b:(h=a.U.K(k.j(),f,d,c,e,h),a=Dd(b,h,k.ea,a.U.Ma()))}return a}
function Ad(a,b,c,d,e,f,h){var k=b;Id(d,function(d,m){var r=c.u(d);pb(b.Q,E(r))&&(k=xd(a,k,r,m,e,f,h))});Id(d,function(d,m){var r=c.u(d);pb(b.Q,E(r))||(k=xd(a,k,r,m,e,f,h))});return k}function Jd(a,b){Id(b,function(b,d){a=a.K(b,d)});return a}
function Bd(a,b,c,d,e,f,h,k){if(b.C().j().e()&&!Fb(b.C()))return b;var l=b;c=c.e()?d:Kd(Ld,c,d);var m=b.C().j();c.children.ia(function(c,d){if(m.Da(c)){var J=b.C().j().J(c),J=Jd(J,d);l=yd(a,l,new L(c),J,e,f,h,k)}});c.children.ia(function(c,d){var J=!pb(b.C(),c)&&null==d.value;m.Da(c)||J||(J=b.C().j().J(c),J=Jd(J,d),l=yd(a,l,new L(c),J,e,f,h,k))});return l}
function Ed(a,b,c,d,e,f,h){if(null!=e.sc(c))return b;var k=b.C();if(null!=d.value){if(c.e()&&k.ea||Gb(k,c))return yd(a,b,c,k.j().Y(c),e,f,!1,h);if(c.e()){var l=Ld;k.j().R(Md,function(a,b){l=l.set(new L(a),b)});return Bd(a,b,c,l,e,f,!1,h)}return b}l=Ld;Id(d,function(a){var b=c.u(a);Gb(k,b)&&(l=l.set(a,k.j().Y(b)))});return Bd(a,b,c,l,e,f,!1,h)};function Nd(){}var Od={};function rd(a){return q(a.compare,a)}Nd.prototype.xd=function(a,b){return 0!==this.compare(new F("[MIN_NAME]",a),new F("[MIN_NAME]",b))};Nd.prototype.Rc=function(){return Pd};function Qd(a){this.bc=a}ma(Qd,Nd);g=Qd.prototype;g.Gc=function(a){return!a.J(this.bc).e()};g.compare=function(a,b){var c=a.S.J(this.bc),d=b.S.J(this.bc),c=c.Bc(d);return 0===c?Rb(a.name,b.name):c};g.Nc=function(a,b){var c=M(a),c=C.O(this.bc,c);return new F(b,c)};
g.Oc=function(){var a=C.O(this.bc,Rd);return new F("[MAX_NAME]",a)};g.toString=function(){return this.bc};function Sd(){}ma(Sd,Nd);g=Sd.prototype;g.compare=function(a,b){var c=a.S.B(),d=b.S.B(),c=c.Bc(d);return 0===c?Rb(a.name,b.name):c};g.Gc=function(a){return!a.B().e()};g.xd=function(a,b){return!a.B().ca(b.B())};g.Rc=function(){return Pd};g.Oc=function(){return new F("[MAX_NAME]",new pc("[PRIORITY-POST]",Rd))};g.Nc=function(a,b){var c=M(a);return new F(b,new pc("[PRIORITY-POST]",c))};
g.toString=function(){return".priority"};var N=new Sd;function Td(){}ma(Td,Nd);g=Td.prototype;g.compare=function(a,b){return Rb(a.name,b.name)};g.Gc=function(){throw Ec("KeyIndex.isDefinedOn not expected to be called.");};g.xd=function(){return!1};g.Rc=function(){return Pd};g.Oc=function(){return new F("[MAX_NAME]",C)};g.Nc=function(a){K(p(a),"KeyIndex indexValue must always be a string.");return new F(a,C)};g.toString=function(){return".key"};var Md=new Td;function Ud(){}ma(Ud,Nd);g=Ud.prototype;
g.compare=function(a,b){var c=a.S.Bc(b.S);return 0===c?Rb(a.name,b.name):c};g.Gc=function(){return!0};g.xd=function(a,b){return!a.ca(b)};g.Rc=function(){return Pd};g.Oc=function(){return Vd};g.Nc=function(a,b){var c=M(a);return new F(b,c)};g.toString=function(){return".value"};var Wd=new Ud;function Xd(){this.Sb=this.pa=this.Ib=this.ma=this.ja=!1;this.ka=0;this.Kb="";this.dc=null;this.vb="";this.ac=null;this.tb="";this.g=N}var Yd=new Xd;function pd(a){return""===a.Kb?a.ma:"l"===a.Kb}function ld(a){K(a.ma,"Only valid if start has been set");return a.dc}function kd(a){K(a.ma,"Only valid if start has been set");return a.Ib?a.vb:"[MIN_NAME]"}function nd(a){K(a.pa,"Only valid if end has been set");return a.ac}
function md(a){K(a.pa,"Only valid if end has been set");return a.Sb?a.tb:"[MAX_NAME]"}function Zd(a){var b=new Xd;b.ja=a.ja;b.ka=a.ka;b.ma=a.ma;b.dc=a.dc;b.Ib=a.Ib;b.vb=a.vb;b.pa=a.pa;b.ac=a.ac;b.Sb=a.Sb;b.tb=a.tb;b.g=a.g;return b}g=Xd.prototype;g.Ee=function(a){var b=Zd(this);b.ja=!0;b.ka=a;b.Kb="";return b};g.Fe=function(a){var b=Zd(this);b.ja=!0;b.ka=a;b.Kb="l";return b};g.Ge=function(a){var b=Zd(this);b.ja=!0;b.ka=a;b.Kb="r";return b};
g.Yd=function(a,b){var c=Zd(this);c.ma=!0;n(a)||(a=null);c.dc=a;null!=b?(c.Ib=!0,c.vb=b):(c.Ib=!1,c.vb="");return c};g.qd=function(a,b){var c=Zd(this);c.pa=!0;n(a)||(a=null);c.ac=a;n(b)?(c.Sb=!0,c.tb=b):(c.bh=!1,c.tb="");return c};function $d(a,b){var c=Zd(a);c.g=b;return c}function ae(a){var b={};a.ma&&(b.sp=a.dc,a.Ib&&(b.sn=a.vb));a.pa&&(b.ep=a.ac,a.Sb&&(b.en=a.tb));if(a.ja){b.l=a.ka;var c=a.Kb;""===c&&(c=pd(a)?"l":"r");b.vf=c}a.g!==N&&(b.i=a.g.toString());return b}
function be(a){return!(a.ma||a.pa||a.ja)}function ce(a){var b={};if(be(a)&&a.g==N)return b;var c;a.g===N?c="$priority":a.g===Wd?c="$value":a.g===Md?c="$key":(K(a.g instanceof Qd,"Unrecognized index type!"),c=a.g.toString());b.orderBy=B(c);a.ma&&(b.startAt=B(a.dc),a.Ib&&(b.startAt+=","+B(a.vb)));a.pa&&(b.endAt=B(a.ac),a.Sb&&(b.endAt+=","+B(a.tb)));a.ja&&(pd(a)?b.limitToFirst=a.ka:b.limitToLast=a.ka);return b}g.toString=function(){return B(ae(this))};function de(a,b){this.yd=a;this.cc=b}de.prototype.get=function(a){var b=w(this.yd,a);if(!b)throw Error("No index defined for "+a);return b===Od?null:b};function ee(a,b,c){var d=na(a.yd,function(d,f){var h=w(a.cc,f);K(h,"Missing index implementation for "+f);if(d===Od){if(h.Gc(b.S)){for(var k=[],l=c.Wb(Pb),m=I(l);m;)m.name!=b.name&&k.push(m),m=I(l);k.push(b);return fe(k,rd(h))}return Od}h=c.get(b.name);k=d;h&&(k=k.remove(new F(b.name,h)));return k.Na(b,b.S)});return new de(d,a.cc)}
function ge(a,b,c){var d=na(a.yd,function(a){if(a===Od)return a;var d=c.get(b.name);return d?a.remove(new F(b.name,d)):a});return new de(d,a.cc)}var he=new de({".priority":Od},{".priority":N});function pc(a,b){this.A=a;K(n(this.A)&&null!==this.A,"LeafNode shouldn't be created with null/undefined value.");this.aa=b||C;ie(this.aa);this.zb=null}var je=["object","boolean","number","string"];g=pc.prototype;g.L=function(){return!0};g.B=function(){return this.aa};g.ga=function(a){return new pc(this.A,a)};g.J=function(a){return".priority"===a?this.aa:C};g.Y=function(a){return a.e()?this:".priority"===E(a)?this.aa:C};g.Da=function(){return!1};g.of=function(){return null};
g.O=function(a,b){return".priority"===a?this.ga(b):b.e()&&".priority"!==a?this:C.O(a,b).ga(this.aa)};g.K=function(a,b){var c=E(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;K(".priority"!==c||1===qc(a),".priority must be the last token in a path");return this.O(c,C.K(H(a),b))};g.e=function(){return!1};g.Bb=function(){return 0};g.R=function(){return!1};g.H=function(a){return a&&!this.B().e()?{".value":this.Ca(),".priority":this.B().H()}:this.Ca()};
g.hash=function(){if(null===this.zb){var a="";this.aa.e()||(a+="priority:"+ke(this.aa.H())+":");var b=typeof this.A,a=a+(b+":"),a="number"===b?a+Wc(this.A):a+this.A;this.zb=Gc(a)}return this.zb};g.Ca=function(){return this.A};g.Bc=function(a){if(a===C)return 1;if(a instanceof S)return-1;K(a.L(),"Unknown node type");var b=typeof a.A,c=typeof this.A,d=Na(je,b),e=Na(je,c);K(0<=d,"Unknown leaf type: "+b);K(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.A<a.A?-1:this.A===a.A?0:1:e-d};
g.jb=function(){return this};g.Hc=function(){return!0};g.ca=function(a){return a===this?!0:a.L()?this.A===a.A&&this.aa.ca(a.aa):!1};g.toString=function(){return B(this.H(!0))};function S(a,b,c){this.m=a;(this.aa=b)&&ie(this.aa);a.e()&&K(!this.aa||this.aa.e(),"An empty node cannot have a priority");this.ub=c;this.zb=null}g=S.prototype;g.L=function(){return!1};g.B=function(){return this.aa||C};g.ga=function(a){return this.m.e()?this:new S(this.m,a,this.ub)};g.J=function(a){if(".priority"===a)return this.B();a=this.m.get(a);return null===a?C:a};g.Y=function(a){var b=E(a);return null===b?this:this.J(b).Y(H(a))};g.Da=function(a){return null!==this.m.get(a)};
g.O=function(a,b){K(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ga(b);var c=new F(a,b),d,e;b.e()?(d=this.m.remove(a),c=ge(this.ub,c,this.m)):(d=this.m.Na(a,b),c=ee(this.ub,c,this.m));e=d.e()?C:this.aa;return new S(d,e,c)};g.K=function(a,b){var c=E(a);if(null===c)return b;K(".priority"!==E(a)||1===qc(a),".priority must be the last token in a path");var d=this.J(c).K(H(a),b);return this.O(c,d)};g.e=function(){return this.m.e()};g.Bb=function(){return this.m.count()};
var le=/^(0|[1-9]\d*)$/;g=S.prototype;g.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.R(N,function(f,h){b[f]=h.H(a);c++;e&&le.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&!this.B().e()&&(b[".priority"]=this.B().H());return b};g.hash=function(){if(null===this.zb){var a="";this.B().e()||(a+="priority:"+ke(this.B().H())+":");this.R(N,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.zb=""===a?"":Gc(a)}return this.zb};
g.of=function(a,b,c){return(c=me(this,c))?(a=Zb(c,new F(a,b)))?a.name:null:Zb(this.m,a)};function sd(a,b){var c;c=(c=me(a,b))?(c=c.Qc())&&c.name:a.m.Qc();return c?new F(c,a.m.get(c)):null}function ud(a,b){var c;c=(c=me(a,b))?(c=c.ec())&&c.name:a.m.ec();return c?new F(c,a.m.get(c)):null}g.R=function(a,b){var c=me(this,a);return c?c.ia(function(a){return b(a.name,a.S)}):this.m.ia(b)};g.Wb=function(a){return this.Xb(a.Rc(),a)};
g.Xb=function(a,b){var c=me(this,b);if(c)return c.Xb(a,function(a){return a});for(var c=this.m.Xb(a.name,Pb),d=ac(c);null!=d&&0>b.compare(d,a);)I(c),d=ac(c);return c};g.pf=function(a){return this.Zb(a.Oc(),a)};g.Zb=function(a,b){var c=me(this,b);if(c)return c.Zb(a,function(a){return a});for(var c=this.m.Zb(a.name,Pb),d=ac(c);null!=d&&0<b.compare(d,a);)I(c),d=ac(c);return c};g.Bc=function(a){return this.e()?a.e()?0:-1:a.L()||a.e()?1:a===Rd?-1:0};
g.jb=function(a){if(a===Md||ta(this.ub.cc,a.toString()))return this;var b=this.ub,c=this.m;K(a!==Md,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Wb(Pb),f=I(c);f;)e=e||a.Gc(f.S),d.push(f),f=I(c);d=e?fe(d,rd(a)):Od;e=a.toString();c=xa(b.cc);c[e]=a;a=xa(b.yd);a[e]=d;return new S(this.m,this.aa,new de(a,c))};g.Hc=function(a){return a===Md||ta(this.ub.cc,a.toString())};
g.ca=function(a){if(a===this)return!0;if(a.L())return!1;if(this.B().ca(a.B())&&this.m.count()===a.m.count()){var b=this.Wb(N);a=a.Wb(N);for(var c=I(b),d=I(a);c&&d;){if(c.name!==d.name||!c.S.ca(d.S))return!1;c=I(b);d=I(a)}return null===c&&null===d}return!1};function me(a,b){return b===Md?null:a.ub.get(b.toString())}g.toString=function(){return B(this.H(!0))};function M(a,b){if(null===a)return C;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);K(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new pc(a,M(c));if(a instanceof Array){var d=C,e=a;t(e,function(a,b){if(v(e,b)&&"."!==b.substring(0,1)){var c=M(a);if(c.L()||!c.e())d=
d.O(b,c)}});return d.ga(M(c))}var f=[],h=!1,k=a;fb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=M(k[a]);b.e()||(h=h||!b.B().e(),f.push(new F(a,b)))}});if(0==f.length)return C;var l=fe(f,Qb,function(a){return a.name},Sb);if(h){var m=fe(f,rd(N));return new S(l,M(c),new de({".priority":m},{".priority":N}))}return new S(l,M(c),he)}var ne=Math.log(2);
function oe(a){this.count=parseInt(Math.log(a+1)/ne,10);this.ff=this.count-1;this.bg=a+1&parseInt(Array(this.count+1).join("1"),2)}function pe(a){var b=!(a.bg&1<<a.ff);a.ff--;return b}
function fe(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var m=a[b],r=c?c(m):m;return new bc(r,m.S,!1,null,null)}var m=parseInt(f/2,10)+b,f=e(b,m),x=e(m+1,d),m=a[m],r=c?c(m):m;return new bc(r,m.S,!1,f,x)}a.sort(b);var f=function(b){function d(b,h){var k=r-b,x=r;r-=b;var x=e(k+1,x),k=a[k],J=c?c(k):k,x=new bc(J,k.S,h,null,x);f?f.left=x:m=x;f=x}for(var f=null,m=null,r=a.length,x=0;x<b.count;++x){var J=pe(b),td=Math.pow(2,b.count-(x+1));J?d(td,!1):(d(td,!1),d(td,!0))}return m}(new oe(a.length));
return null!==f?new Xb(d||b,f):new Xb(d||b)}function ke(a){return"number"===typeof a?"number:"+Wc(a):"string:"+a}function ie(a){if(a.L()){var b=a.H();K("string"===typeof b||"number"===typeof b||"object"===typeof b&&v(b,".sv"),"Priority must be a string or number.")}else K(a===Rd||a.e(),"priority of unexpected type.");K(a===Rd||a.B().e(),"Priority nodes can't have a priority of their own.")}var C=new S(new Xb(Sb),null,he);function qe(){S.call(this,new Xb(Sb),C,he)}ma(qe,S);g=qe.prototype;
g.Bc=function(a){return a===this?0:1};g.ca=function(a){return a===this};g.B=function(){return this};g.J=function(){return C};g.e=function(){return!1};var Rd=new qe,Pd=new F("[MIN_NAME]",C),Vd=new F("[MAX_NAME]",Rd);function Gd(a,b){this.Q=a;this.Vd=b}function Dd(a,b,c,d){return new Gd(new qb(b,c,d),a.Vd)}function Hd(a){return a.Q.ea?a.Q.j():null}Gd.prototype.C=function(){return this.Vd};function rb(a){return a.Vd.ea?a.Vd.j():null};function re(a,b){this.V=a;var c=a.o,d=new id(c.g),c=be(c)?new id(c.g):c.ja?new od(c):new jd(c);this.Ff=new wd(c);var e=b.C(),f=b.Q,h=d.xa(C,e.j(),null),k=c.xa(C,f.j(),null);this.Ja=new Gd(new qb(k,f.ea,c.Ma()),new qb(h,e.ea,d.Ma()));this.Xa=[];this.jg=new ad(a)}function se(a){return a.V}g=re.prototype;g.C=function(){return this.Ja.C().j()};g.bb=function(a){var b=rb(this.Ja);return b&&(be(this.V.o)||!a.e()&&!b.J(E(a)).e())?b.Y(a):null};g.e=function(){return 0===this.Xa.length};g.Mb=function(a){this.Xa.push(a)};
g.hb=function(a,b){var c=[];if(b){K(null==a,"A cancel should cancel all event registrations.");var d=this.V.path;Oa(this.Xa,function(a){(a=a.df(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.Xa.length;++f){var h=this.Xa[f];if(!h.matches(a))e.push(h);else if(a.qf()){e=e.concat(this.Xa.slice(f+1));break}}this.Xa=e}else this.Xa=[];return c};
g.$a=function(a,b,c){a.type===zd&&null!==a.source.Fb&&(K(rb(this.Ja),"We should always have a full cache before handling merges"),K(Hd(this.Ja),"Missing event cache, even though we have a server cache"));var d=this.Ja;a=this.Ff.$a(d,a,b,c);b=this.Ff;c=a.ge;K(c.Q.j().Hc(b.U.g),"Event snap not indexed");K(c.C().j().Hc(b.U.g),"Server snap not indexed");K(Fb(a.ge.C())||!Fb(d.C()),"Once a server snap is complete, it should never go back");this.Ja=a.ge;return te(this,a.cg,a.ge.Q.j(),null)};
function ue(a,b){var c=a.Ja.Q,d=[];c.j().L()||c.j().R(N,function(a,b){d.push(new D("child_added",b,a))});c.ea&&d.push(Bb(c.j()));return te(a,d,c.j(),b)}function te(a,b,c,d){return bd(a.jg,b,c,d?[d]:a.Xa)};function ve(a,b,c){this.type=zd;this.source=a;this.path=b;this.children=c}ve.prototype.Vc=function(a){if(this.path.e())return a=this.children.subtree(new L(a)),a.e()?null:a.value?new Tb(this.source,G,a.value):new ve(this.source,G,a);K(E(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new ve(this.source,H(this.path),this.children)};ve.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function we(a,b){this.f=Lc("p:rest:");this.F=a;this.Eb=b;this.Aa=null;this.$={}}function xe(a,b){if(n(b))return"tag$"+b;var c=a.o;K(be(c)&&c.g==N,"should have a tag if it's not a default query.");return a.path.toString()}g=we.prototype;
g.uf=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.va());var f=xe(a,c),h={};this.$[f]=h;a=ce(a.o);var k=this;ye(this,e+".json",a,function(a,b){var r=b;404===a&&(a=r=null);null===a&&k.Eb(e,r,!1,c);w(k.$,f)===h&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};g.Of=function(a,b){var c=xe(a,b);delete this.$[c]};g.N=function(a,b){this.Aa=a;var c=Yc(a),d=c.data,c=c.Ac&&c.Ac.exp;b&&b("ok",{auth:d,expires:c})};g.ee=function(a){this.Aa=null;a("ok",null)};g.Ke=function(){};
g.Bf=function(){};g.Hd=function(){};g.put=function(){};g.wf=function(){};g.Se=function(){};
function ye(a,b,c,d){c=c||{};c.format="export";a.Aa&&(c.auth=a.Aa);var e=(a.F.ib?"https://":"http://")+a.F.host+b+"?"+hb(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=kb(f.responseText)}catch(c){P("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==
f.status&&P("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}};f.open("GET",e,!0);f.send()};function ze(a,b){this.value=a;this.children=b||Ae}var Ae=new Xb(function(a,b){return a===b?0:a<b?-1:1});function Be(a){var b=Ld;t(a,function(a,d){b=b.set(new L(d),a)});return b}g=ze.prototype;g.e=function(){return null===this.value&&this.children.e()};function Ce(a,b,c){if(null!=a.value&&c(a.value))return{path:G,value:a.value};if(b.e())return null;var d=E(b);a=a.children.get(d);return null!==a?(b=Ce(a,H(b),c),null!=b?{path:(new L(d)).u(b.path),value:b.value}:null):null}
function De(a,b){return Ce(a,b,function(){return!0})}g.subtree=function(a){if(a.e())return this;var b=this.children.get(E(a));return null!==b?b.subtree(H(a)):Ld};g.set=function(a,b){if(a.e())return new ze(b,this.children);var c=E(a),d=(this.children.get(c)||Ld).set(H(a),b),c=this.children.Na(c,d);return new ze(this.value,c)};
g.remove=function(a){if(a.e())return this.children.e()?Ld:new ze(null,this.children);var b=E(a),c=this.children.get(b);return c?(a=c.remove(H(a)),b=a.e()?this.children.remove(b):this.children.Na(b,a),null===this.value&&b.e()?Ld:new ze(this.value,b)):this};g.get=function(a){if(a.e())return this.value;var b=this.children.get(E(a));return b?b.get(H(a)):null};
function Kd(a,b,c){if(b.e())return c;var d=E(b);b=Kd(a.children.get(d)||Ld,H(b),c);d=b.e()?a.children.remove(d):a.children.Na(d,b);return new ze(a.value,d)}function Ee(a,b){return Fe(a,G,b)}function Fe(a,b,c){var d={};a.children.ia(function(a,f){d[a]=Fe(f,b.u(a),c)});return c(b,a.value,d)}function Ge(a,b,c){return He(a,b,G,c)}function He(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=E(b);return(a=a.children.get(e))?He(a,H(b),c.u(e),d):null}
function Ie(a,b,c){var d=G;if(!b.e()){var e=!0;a.value&&(e=c(d,a.value));!0===e&&(e=E(b),(a=a.children.get(e))&&Je(a,H(b),d.u(e),c))}}function Je(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=E(b);return(a=a.children.get(e))?Je(a,H(b),c.u(e),d):Ld}function Id(a,b){Ke(a,G,b)}function Ke(a,b,c){a.children.ia(function(a,e){Ke(e,b.u(a),c)});a.value&&c(b,a.value)}function Le(a,b){a.children.ia(function(a,d){d.value&&b(a,d.value)})}var Ld=new ze(null);
ze.prototype.toString=function(){var a={};Id(this,function(b,c){a[b.toString()]=c.toString()});return B(a)};function Me(a,b,c){this.type=Cd;this.source=Ne;this.path=a;this.Nb=b;this.Td=c}Me.prototype.Vc=function(a){if(this.path.e()){if(null!=this.Nb.value)return K(this.Nb.children.e(),"affectedTree should not have overlapping affected paths."),this;a=this.Nb.subtree(new L(a));return new Me(G,a,this.Td)}K(E(this.path)===a,"operationForChild called for unrelated child.");return new Me(H(this.path),this.Nb,this.Td)};
Me.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Td+" affectedTree="+this.Nb+")"};var Ub=0,zd=1,Cd=2,Wb=3;function Oe(a,b,c,d){this.te=a;this.mf=b;this.Fb=c;this.Ze=d;K(!d||b,"Tagged queries must be from server.")}var Ne=new Oe(!0,!1,null,!1),Pe=new Oe(!1,!0,null,!1);Oe.prototype.toString=function(){return this.te?"user":this.Ze?"server(queryID="+this.Fb+")":"server"};function Qe(a){this.W=a}var Re=new Qe(new ze(null));function Se(a,b,c){if(b.e())return new Qe(new ze(c));var d=De(a.W,b);if(null!=d){var e=d.path,d=d.value;b=O(e,b);d=d.K(b,c);return new Qe(a.W.set(e,d))}a=Kd(a.W,b,new ze(c));return new Qe(a)}function Te(a,b,c){var d=a;fb(c,function(a,c){d=Se(d,b.u(a),c)});return d}Qe.prototype.Pd=function(a){if(a.e())return Re;a=Kd(this.W,a,Ld);return new Qe(a)};function Ue(a,b){var c=De(a.W,b);return null!=c?a.W.get(c.path).Y(O(c.path,b)):null}
function Ve(a){var b=[],c=a.W.value;null!=c?c.L()||c.R(N,function(a,c){b.push(new F(a,c))}):a.W.children.ia(function(a,c){null!=c.value&&b.push(new F(a,c.value))});return b}function We(a,b){if(b.e())return a;var c=Ue(a,b);return null!=c?new Qe(new ze(c)):new Qe(a.W.subtree(b))}Qe.prototype.e=function(){return this.W.e()};Qe.prototype.apply=function(a){return Xe(G,this.W,a)};
function Xe(a,b,c){if(null!=b.value)return c.K(a,b.value);var d=null;b.children.ia(function(b,f){".priority"===b?(K(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Xe(a.u(b),f,c)});c.Y(a).e()||null===d||(c=c.K(a.u(".priority"),d));return c};function Ye(){this.T=Re;this.na=[];this.Kc=-1}function Ze(a,b){for(var c=0;c<a.na.length;c++){var d=a.na[c];if(d.gd===b)return d}return null}g=Ye.prototype;
g.Pd=function(a){var b=Ua(this.na,function(b){return b.gd===a});K(0<=b,"removeWrite called with nonexistent writeId.");var c=this.na[b];this.na.splice(b,1);for(var d=c.visible,e=!1,f=this.na.length-1;d&&0<=f;){var h=this.na[f];h.visible&&(f>=b&&$e(h,c.path)?d=!1:c.path.contains(h.path)&&(e=!0));f--}if(d){if(e)this.T=af(this.na,bf,G),this.Kc=0<this.na.length?this.na[this.na.length-1].gd:-1;else if(c.Fa)this.T=this.T.Pd(c.path);else{var k=this;t(c.children,function(a,b){k.T=k.T.Pd(c.path.u(b))})}return!0}return!1};
g.za=function(a,b,c,d){if(c||d){var e=We(this.T,a);return!d&&e.e()?b:d||null!=b||null!=Ue(e,G)?(e=af(this.na,function(b){return(b.visible||d)&&(!c||!(0<=Na(c,b.gd)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||C,e.apply(b)):null}e=Ue(this.T,a);if(null!=e)return e;e=We(this.T,a);return e.e()?b:null!=b||null!=Ue(e,G)?(b=b||C,e.apply(b)):null};
g.xc=function(a,b){var c=C,d=Ue(this.T,a);if(d)d.L()||d.R(N,function(a,b){c=c.O(a,b)});else if(b){var e=We(this.T,a);b.R(N,function(a,b){var d=We(e,new L(a)).apply(b);c=c.O(a,d)});Oa(Ve(e),function(a){c=c.O(a.name,a.S)})}else e=We(this.T,a),Oa(Ve(e),function(a){c=c.O(a.name,a.S)});return c};g.hd=function(a,b,c,d){K(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.u(b);if(null!=Ue(this.T,a))return null;a=We(this.T,a);return a.e()?d.Y(b):a.apply(d.Y(b))};
g.wc=function(a,b,c){a=a.u(b);var d=Ue(this.T,a);return null!=d?d:pb(c,b)?We(this.T,a).apply(c.j().J(b)):null};g.sc=function(a){return Ue(this.T,a)};g.ke=function(a,b,c,d,e,f){var h;a=We(this.T,a);h=Ue(a,G);if(null==h)if(null!=b)h=a.apply(b);else return[];h=h.jb(f);if(h.e()||h.L())return[];b=[];a=rd(f);e=e?h.Zb(c,f):h.Xb(c,f);for(f=I(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=I(e);return b};
function $e(a,b){return a.Fa?a.path.contains(b):!!ua(a.children,function(c,d){return a.path.u(d).contains(b)})}function bf(a){return a.visible}
function af(a,b,c){for(var d=Re,e=0;e<a.length;++e){var f=a[e];if(b(f)){var h=f.path;if(f.Fa)c.contains(h)?(h=O(c,h),d=Se(d,h,f.Fa)):h.contains(c)&&(h=O(h,c),d=Se(d,G,f.Fa.Y(h)));else if(f.children)if(c.contains(h))h=O(c,h),d=Te(d,h,f.children);else{if(h.contains(c))if(h=O(h,c),h.e())d=Te(d,G,f.children);else if(f=w(f.children,E(h)))f=f.Y(H(h)),d=Se(d,G,f)}else throw Ec("WriteRecord should have .snap or .children");}}return d}function cf(a,b){this.Jb=a;this.W=b}g=cf.prototype;
g.za=function(a,b,c){return this.W.za(this.Jb,a,b,c)};g.xc=function(a){return this.W.xc(this.Jb,a)};g.hd=function(a,b,c){return this.W.hd(this.Jb,a,b,c)};g.sc=function(a){return this.W.sc(this.Jb.u(a))};g.ke=function(a,b,c,d,e){return this.W.ke(this.Jb,a,b,c,d,e)};g.wc=function(a,b){return this.W.wc(this.Jb,a,b)};g.u=function(a){return new cf(this.Jb.u(a),this.W)};function df(){this.ya={}}g=df.prototype;g.e=function(){return wa(this.ya)};g.$a=function(a,b,c){var d=a.source.Fb;if(null!==d)return d=w(this.ya,d),K(null!=d,"SyncTree gave us an op for an invalid query."),d.$a(a,b,c);var e=[];t(this.ya,function(d){e=e.concat(d.$a(a,b,c))});return e};g.Mb=function(a,b,c,d,e){var f=a.va(),h=w(this.ya,f);if(!h){var h=c.za(e?d:null),k=!1;h?k=!0:(h=d instanceof S?c.xc(d):C,k=!1);h=new re(a,new Gd(new qb(h,k,!1),new qb(d,e,!1)));this.ya[f]=h}h.Mb(b);return ue(h,b)};
g.hb=function(a,b,c){var d=a.va(),e=[],f=[],h=null!=ef(this);if("default"===d){var k=this;t(this.ya,function(a,d){f=f.concat(a.hb(b,c));a.e()&&(delete k.ya[d],be(a.V.o)||e.push(a.V))})}else{var l=w(this.ya,d);l&&(f=f.concat(l.hb(b,c)),l.e()&&(delete this.ya[d],be(l.V.o)||e.push(l.V)))}h&&null==ef(this)&&e.push(new T(a.k,a.path));return{Ig:e,kg:f}};function ff(a){return Pa(ra(a.ya),function(a){return!be(a.V.o)})}g.bb=function(a){var b=null;t(this.ya,function(c){b=b||c.bb(a)});return b};
function gf(a,b){if(be(b.o))return ef(a);var c=b.va();return w(a.ya,c)}function ef(a){return va(a.ya,function(a){return be(a.V.o)})||null};function hf(a){this.ta=Ld;this.gb=new Ye;this.Ye={};this.kc={};this.Lc=a}function jf(a,b,c,d,e){var f=a.gb,h=e;K(d>f.Kc,"Stacking an older write on top of newer ones");n(h)||(h=!0);f.na.push({path:b,Fa:c,gd:d,visible:h});h&&(f.T=Se(f.T,b,c));f.Kc=d;return e?kf(a,new Tb(Ne,b,c)):[]}function lf(a,b,c,d){var e=a.gb;K(d>e.Kc,"Stacking an older merge on top of newer ones");e.na.push({path:b,children:c,gd:d,visible:!0});e.T=Te(e.T,b,c);e.Kc=d;c=Be(c);return kf(a,new ve(Ne,b,c))}
function mf(a,b,c){c=c||!1;var d=Ze(a.gb,b);if(a.gb.Pd(b)){var e=Ld;null!=d.Fa?e=e.set(G,!0):fb(d.children,function(a,b){e=e.set(new L(a),b)});return kf(a,new Me(d.path,e,c))}return[]}function nf(a,b,c){c=Be(c);return kf(a,new ve(Pe,b,c))}function of(a,b,c,d){d=pf(a,d);if(null!=d){var e=qf(d);d=e.path;e=e.Fb;b=O(d,b);c=new Tb(new Oe(!1,!0,e,!0),b,c);return rf(a,d,c)}return[]}
function sf(a,b,c,d){if(d=pf(a,d)){var e=qf(d);d=e.path;e=e.Fb;b=O(d,b);c=Be(c);c=new ve(new Oe(!1,!0,e,!0),b,c);return rf(a,d,c)}return[]}
hf.prototype.Mb=function(a,b){var c=a.path,d=null,e=!1;Ie(this.ta,c,function(a,b){var f=O(a,c);d=b.bb(f);e=e||null!=ef(b);return!d});var f=this.ta.get(c);f?(e=e||null!=ef(f),d=d||f.bb(G)):(f=new df,this.ta=this.ta.set(c,f));var h;null!=d?h=!0:(h=!1,d=C,Le(this.ta.subtree(c),function(a,b){var c=b.bb(G);c&&(d=d.O(a,c))}));var k=null!=gf(f,a);if(!k&&!be(a.o)){var l=tf(a);K(!(l in this.kc),"View does not exist, but we have a tag");var m=uf++;this.kc[l]=m;this.Ye["_"+m]=l}h=f.Mb(a,b,new cf(c,this.gb),
d,h);k||e||(f=gf(f,a),h=h.concat(vf(this,a,f)));return h};
hf.prototype.hb=function(a,b,c){var d=a.path,e=this.ta.get(d),f=[];if(e&&("default"===a.va()||null!=gf(e,a))){f=e.hb(a,b,c);e.e()&&(this.ta=this.ta.remove(d));e=f.Ig;f=f.kg;b=-1!==Ua(e,function(a){return be(a.o)});var h=Ge(this.ta,d,function(a,b){return null!=ef(b)});if(b&&!h&&(d=this.ta.subtree(d),!d.e()))for(var d=wf(d),k=0;k<d.length;++k){var l=d[k],m=l.V,l=xf(this,l);this.Lc.Ve(m,yf(this,m),l.ud,l.G)}if(!h&&0<e.length&&!c)if(b)this.Lc.Zd(a,null);else{var r=this;Oa(e,function(a){a.va();var b=r.kc[tf(a)];
r.Lc.Zd(a,b)})}zf(this,e)}return f};hf.prototype.za=function(a,b){var c=this.gb,d=Ge(this.ta,a,function(b,c){var d=O(b,a);if(d=c.bb(d))return d});return c.za(a,d,b,!0)};function wf(a){return Ee(a,function(a,c,d){if(c&&null!=ef(c))return[ef(c)];var e=[];c&&(e=ff(c));t(d,function(a){e=e.concat(a)});return e})}function zf(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!be(d.o)){var d=tf(d),e=a.kc[d];delete a.kc[d];delete a.Ye["_"+e]}}}
function vf(a,b,c){var d=b.path,e=yf(a,b);c=xf(a,c);b=a.Lc.Ve(b,e,c.ud,c.G);d=a.ta.subtree(d);if(e)K(null==ef(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Ee(d,function(a,b,c){if(!a.e()&&b&&null!=ef(b))return[se(ef(b))];var d=[];b&&(d=d.concat(Qa(ff(b),function(a){return a.V})));t(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Lc.Zd(c,yf(a,c));return b}
function xf(a,b){var c=b.V,d=yf(a,c);return{ud:function(){return(b.C()||C).hash()},G:function(b){if("ok"===b){if(d){var f=c.path;if(b=pf(a,d)){var h=qf(b);b=h.path;h=h.Fb;f=O(b,f);f=new Vb(new Oe(!1,!0,h,!0),f);b=rf(a,b,f)}else b=[]}else b=kf(a,new Vb(Pe,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&
(f="The service is unavailable");f=Error(b+": "+f);f.code=b.toUpperCase();return a.hb(c,null,f)}}}function tf(a){return a.path.toString()+"$"+a.va()}function qf(a){var b=a.indexOf("$");K(-1!==b&&b<a.length-1,"Bad queryKey.");return{Fb:a.substr(b+1),path:new L(a.substr(0,b))}}function pf(a,b){var c=a.Ye,d="_"+b;return d in c?c[d]:void 0}function yf(a,b){var c=tf(b);return w(a.kc,c)}var uf=1;
function rf(a,b,c){var d=a.ta.get(b);K(d,"Missing sync point for query tag that we're tracking");return d.$a(c,new cf(b,a.gb),null)}function kf(a,b){return Af(a,b,a.ta,null,new cf(G,a.gb))}function Af(a,b,c,d,e){if(b.path.e())return Bf(a,b,c,d,e);var f=c.get(G);null==d&&null!=f&&(d=f.bb(G));var h=[],k=E(b.path),l=b.Vc(k);if((c=c.children.get(k))&&l)var m=d?d.J(k):null,k=e.u(k),h=h.concat(Af(a,l,c,m,k));f&&(h=h.concat(f.$a(b,e,d)));return h}
function Bf(a,b,c,d,e){var f=c.get(G);null==d&&null!=f&&(d=f.bb(G));var h=[];c.children.ia(function(c,f){var m=d?d.J(c):null,r=e.u(c),x=b.Vc(c);x&&(h=h.concat(Bf(a,x,f,m,r)))});f&&(h=h.concat(f.$a(b,e,d)));return h};function Cf(){this.children={};this.kd=0;this.value=null}function Df(a,b,c){this.Ed=a?a:"";this.Xc=b?b:null;this.w=c?c:new Cf}function Ef(a,b){for(var c=b instanceof L?b:new L(b),d=a,e;null!==(e=E(c));)d=new Df(e,d,w(d.w.children,e)||new Cf),c=H(c);return d}g=Df.prototype;g.Ca=function(){return this.w.value};function Ff(a,b){K("undefined"!==typeof b,"Cannot set value to undefined");a.w.value=b;Gf(a)}g.clear=function(){this.w.value=null;this.w.children={};this.w.kd=0;Gf(this)};
g.td=function(){return 0<this.w.kd};g.e=function(){return null===this.Ca()&&!this.td()};g.R=function(a){var b=this;t(this.w.children,function(c,d){a(new Df(d,b,c))})};function Hf(a,b,c,d){c&&!d&&b(a);a.R(function(a){Hf(a,b,!0,d)});c&&d&&b(a)}function If(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}g.path=function(){return new L(null===this.Xc?this.Ed:this.Xc.path()+"/"+this.Ed)};g.name=function(){return this.Ed};g.parent=function(){return this.Xc};
function Gf(a){if(null!==a.Xc){var b=a.Xc,c=a.Ed,d=a.e(),e=v(b.w.children,c);d&&e?(delete b.w.children[c],b.w.kd--,Gf(b)):d||e||(b.w.children[c]=a.w,b.w.kd++,Gf(b))}};function Jf(a){K(ea(a)&&0<a.length,"Requires a non-empty array");this.Uf=a;this.Mc={}}Jf.prototype.de=function(a,b){for(var c=this.Mc[a]||[],d=0;d<c.length;d++)c[d].yc.apply(c[d].La,Array.prototype.slice.call(arguments,1))};Jf.prototype.Cb=function(a,b,c){Kf(this,a);this.Mc[a]=this.Mc[a]||[];this.Mc[a].push({yc:b,La:c});(a=this.xe(a))&&b.apply(c,a)};Jf.prototype.fc=function(a,b,c){Kf(this,a);a=this.Mc[a]||[];for(var d=0;d<a.length;d++)if(a[d].yc===b&&(!c||c===a[d].La)){a.splice(d,1);break}};
function Kf(a,b){K(Ta(a.Uf,function(a){return a===b}),"Unknown event: "+b)};var Lf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);K(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);K(20===c.length,"nextPushId: Length should be 20.");
return c}}();function Mf(){Jf.call(this,["online"]);this.hc=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.hc||(a.hc=!0,a.de("online",!0))},!1);window.addEventListener("offline",function(){a.hc&&(a.hc=!1,a.de("online",!1))},!1)}}ma(Mf,Jf);Mf.prototype.xe=function(a){K("online"===a,"Unknown event type: "+a);return[this.hc]};ca(Mf);function Nf(){Jf.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.Lb=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.Lb&&(c.Lb=b,c.de("visible",b))},!1)}}ma(Nf,Jf);Nf.prototype.xe=function(a){K("visible"===a,"Unknown event type: "+a);return[this.Lb]};ca(Nf);var Of=/[\[\].#$\/\u0000-\u001F\u007F]/,Pf=/[\[\].#$\u0000-\u001F\u007F]/,Qf=/^[a-zA-Z][a-zA-Z._\-+]+$/;function Rf(a){return p(a)&&0!==a.length&&!Of.test(a)}function Sf(a){return null===a||p(a)||ga(a)&&!Pc(a)||ia(a)&&v(a,".sv")}function Tf(a,b,c,d){d&&!n(b)||Uf(z(a,1,d),b,c)}
function Uf(a,b,c){c instanceof L&&(c=new sc(c,a));if(!n(b))throw Error(a+"contains undefined "+vc(c));if(ha(b))throw Error(a+"contains a function "+vc(c)+" with contents: "+b.toString());if(Pc(b))throw Error(a+"contains "+b.toString()+" "+vc(c));if(p(b)&&b.length>10485760/3&&10485760<tc(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+vc(c)+" ('"+b.substring(0,50)+"...')");if(ia(b)){var d=!1,e=!1;fb(b,function(b,h){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!Rf(b)))throw Error(a+" contains an invalid key ("+b+") "+vc(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);Uf(a,h,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+vc(c)+" in addition to actual children.");}}
function Vf(a,b,c){if(!ia(b)||ea(b))throw Error(z(a,1,!1)+" must be an Object containing the children to replace.");if(v(b,".value"))throw Error(z(a,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Tf(a,b,c,!1)}
function Wf(a,b,c){if(Pc(c))throw Error(z(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sf(c))throw Error(z(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}
function Xf(a,b,c){if(!c||n(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(z(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function Yf(a,b,c,d){if((!d||n(c))&&!Rf(c))throw Error(z(a,b,d)+'was an invalid key: "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function Zf(a,b){if(!p(b)||0===b.length||Pf.test(b))throw Error(z(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function $f(a,b){if(".info"===E(b))throw Error(a+" failed: Can't modify data under /.info/");}function ag(a,b){if(!p(b))throw Error(z(a,1,!1)+"must be a valid credential (a string).");}function bg(a,b,c){if(!p(c))throw Error(z(a,b,!1)+"must be a valid string.");}
function cg(a,b){bg(a,1,b);if(!Qf.test(b))throw Error(z(a,1,!1)+"'"+b+"' is not a valid authentication provider.");}function dg(a,b,c,d){if(!d||n(c))if(!ia(c)||null===c)throw Error(z(a,b,d)+"must be a valid object.");}function eg(a,b,c){if(!ia(b)||!v(b,c))throw Error(z(a,1,!1)+'must contain the key "'+c+'"');if(!p(w(b,c)))throw Error(z(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function fg(){this.set={}}g=fg.prototype;g.add=function(a,b){this.set[a]=null!==b?b:!0};g.contains=function(a){return v(this.set,a)};g.get=function(a){return this.contains(a)?this.set[a]:void 0};g.remove=function(a){delete this.set[a]};g.clear=function(){this.set={}};g.e=function(){return wa(this.set)};g.count=function(){return pa(this.set)};function gg(a,b){t(a.set,function(a,d){b(d,a)})}g.keys=function(){var a=[];t(this.set,function(b,c){a.push(c)});return a};function mc(){this.m=this.A=null}mc.prototype.find=function(a){if(null!=this.A)return this.A.Y(a);if(a.e()||null==this.m)return null;var b=E(a);a=H(a);return this.m.contains(b)?this.m.get(b).find(a):null};mc.prototype.mc=function(a,b){if(a.e())this.A=b,this.m=null;else if(null!==this.A)this.A=this.A.K(a,b);else{null==this.m&&(this.m=new fg);var c=E(a);this.m.contains(c)||this.m.add(c,new mc);c=this.m.get(c);a=H(a);c.mc(a,b)}};
function hg(a,b){if(b.e())return a.A=null,a.m=null,!0;if(null!==a.A){if(a.A.L())return!1;var c=a.A;a.A=null;c.R(N,function(b,c){a.mc(new L(b),c)});return hg(a,b)}return null!==a.m?(c=E(b),b=H(b),a.m.contains(c)&&hg(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function nc(a,b,c){null!==a.A?c(b,a.A):a.R(function(a,e){var f=new L(b.toString()+"/"+a);nc(e,f,c)})}mc.prototype.R=function(a){null!==this.m&&gg(this.m,function(b,c){a(b,c)})};var ig="auth.firebase.com";function jg(a,b,c){this.ld=a||{};this.ce=b||{};this.Za=c||{};this.ld.remember||(this.ld.remember="default")}var kg=["remember","redirectTo"];function lg(a){var b={},c={};fb(a||{},function(a,e){0<=Na(kg,a)?b[a]=e:c[a]=e});return new jg(b,{},c)};function mg(a,b){this.Oe=["session",a.Md,a.Ab].join(":");this.$d=b}mg.prototype.set=function(a,b){if(!b)if(this.$d.length)b=this.$d[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.Oe,a)};mg.prototype.get=function(){var a=Qa(this.$d,q(this.og,this)),a=Pa(a,function(a){return null!==a});Wa(a,function(a,c){return Zc(c.token)-Zc(a.token)});return 0<a.length?a.shift():null};mg.prototype.og=function(a){try{var b=a.get(this.Oe);if(b&&b.token)return b}catch(c){}return null};
mg.prototype.clear=function(){var a=this;Oa(this.$d,function(b){b.remove(a.Oe)})};function ng(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function og(){var a=ng();if(""===a)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function pg(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function qg(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function rg(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function sg(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function tg(a){var b="";try{a=a.replace("#","");var c=ib(a);c&&v(c,"__firebase_request_key")&&(b=w(c,"__firebase_request_key"))}catch(d){}return b}function ug(){var a=Oc(ig);return a.scheme+"://"+a.host+"/v2"}function vg(a){return ug()+"/"+a+"/auth/channel"};function wg(a){var b=this;this.zc=a;this.ae="*";og()?this.Pc=this.wd=pg():(this.Pc=window.opener,this.wd=window);if(!b.Pc)throw"Unable to find relay frame";qg(this.wd,"message",q(this.gc,this));qg(this.wd,"message",q(this.Af,this));try{xg(this,{a:"ready"})}catch(c){qg(this.Pc,"load",function(){xg(b,{a:"ready"})})}qg(window,"unload",q(this.yg,this))}function xg(a,b){b=B(b);og()?a.Pc.doPost(b,a.ae):a.Pc.postMessage(b,a.ae)}
wg.prototype.gc=function(a){var b=this,c;try{c=kb(a.data)}catch(d){}c&&"request"===c.a&&(rg(window,"message",this.gc),this.ae=a.origin,this.zc&&setTimeout(function(){b.zc(b.ae,c.d,function(a,c){b.ag=!c;b.zc=void 0;xg(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};wg.prototype.yg=function(){try{rg(this.wd,"message",this.Af)}catch(a){}this.zc&&(xg(this,{a:"error",d:"unknown closed window"}),this.zc=void 0);try{window.close()}catch(b){}};wg.prototype.Af=function(a){if(this.ag&&"die"===a.data)try{window.close()}catch(b){}};function yg(a){this.oc=Ga()+Ga()+Ga();this.Df=a}yg.prototype.open=function(a,b){Ac.set("redirect_request_id",this.oc);Ac.set("redirect_request_id",this.oc);b.requestId=this.oc;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+hb(b);window.location=a};yg.isAvailable=function(){return!1};yg.prototype.Pb=function(){return"redirect"};var zg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function U(a){var b=Error(w(zg,a),a);b.code=a;return b};function Ag(a){var b;(b=!a.window_features)||(b=ng(),b=-1!==b.indexOf("Fennec/")||-1!==b.indexOf("Firefox/")&&-1!==b.indexOf("Android"));b&&(a.window_features=void 0);a.window_name||(a.window_name="_blank");this.options=a}
Ag.prototype.open=function(a,b,c){function d(a){h&&(document.body.removeChild(h),h=void 0);r&&(r=clearInterval(r));rg(window,"message",e);rg(window,"unload",d);if(m&&!a)try{m.close()}catch(b){k.postMessage("die",l)}m=k=void 0}function e(a){if(a.origin===l)try{var b=kb(a.data);"ready"===b.a?k.postMessage(x,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=og(),h,k;if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var l=sg(a);if(l!==sg(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(h=document.createElement("iframe"),h.setAttribute("src",this.options.relay_url),h.style.display="none",h.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(h),k=h.contentWindow);a+=(/\?/.test(a)?"":"?")+hb(b);var m=window.open(a,this.options.window_name,this.options.window_features);k||(k=m);var r=setInterval(function(){m&&m.closed&&
(d(!1),c&&(c(U("USER_CANCELLED")),c=null))},500),x=B({a:"request",d:b});qg(window,"unload",d);qg(window,"message",e)}};Ag.isAvailable=function(){return!1};Ag.prototype.Pb=function(){return"popup"};function Bg(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Bg.prototype.open=function(a,b,c){var d=Oc(a),e="http"===d.scheme?require("http"):require("https");a=this.options.method;var f,h={Accept:"application/json;text/plain"};za(h,this.options.headers);d={host:d.host.split(":")[0],port:d.port,path:d.jc,method:this.options.method.toUpperCase()};if("GET"===a)d.path+=(/\?/.test(d.path)?"":"?")+hb(b),f=null;else{var k=this.options.headers.content_type;"application/json"===k&&(f=B(b));"application/x-www-form-urlencoded"===k&&(f=hb(b));h["Content-Length"]=Buffer.byteLength(f,
"utf8")}d.headers=h;b=e.request(d,function(a){var b="";a.setEncoding("utf8");a.on("data",function(a){b+=a});a.on("end",function(){try{b=kb(b+"")}catch(a){}c&&(c(null,b),c=null)})});"GET"!==a&&b.write(f);b.on("error",function(a){a&&a.code&&("ENOTFOUND"===a.code||"ENETDOWN"===a.code)?c(U("NETWORK_ERROR")):c(U("SERVER_ERROR"));c=null});b.end()};Bg.isAvailable=function(){return!0};Bg.prototype.Pb=function(){return"json"};function Cg(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Cg.prototype.open=function(a,b,c){function d(){c&&(c(U("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),h;qg(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=kb(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(U("SERVER_ERROR")):c(U("NETWORK_ERROR"));c=null;rg(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+hb(b),h=null;else{var k=this.options.headers.content_type;
"application/json"===k&&(h=B(b));"application/x-www-form-urlencoded"===k&&(h=hb(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};za(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(h)};Cg.isAvailable=function(){return!1};Cg.prototype.Pb=function(){return"json"};function Dg(a){this.oc=Ga()+Ga()+Ga();this.Df=a}
Dg.prototype.open=function(a,b,c){function d(){c&&(c(U("USER_CANCELLED")),c=null)}var e=this,f=Oc(ig),h;b.requestId=this.oc;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=hb(b);(h=window.open(a,"_blank","location=no"))&&ha(h.addEventListener)?(h.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var m=document.createElement("a");m.href=a.url;b=m.host===f.host&&"/blank/page.html"===m.pathname;break a}catch(r){}b=!1}b&&(a=tg(a.url),h.removeEventListener("exit",
d),h.close(),a=new jg(null,null,{requestId:e.oc,requestKey:a}),e.Df.requestWithCredential("/auth/session",a,c),c=null)}),h.addEventListener("exit",d)):c(U("TRANSPORT_UNAVAILABLE"))};Dg.isAvailable=function(){return!1};Dg.prototype.Pb=function(){return"redirect"};function Eg(a){a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
Eg.prototype.open=function(a,b,c){function d(){c&&(c(U("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0;wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);rg(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+hb(b);
qg(window,"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};Fg(f,a,c)};
function Fg(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(U("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(U("NETWORK_ERROR"))}},0)}Eg.isAvailable=function(){return"undefined"!==typeof document&&null!=document.createElement};
Eg.prototype.Pb=function(){return"json"};function Gg(a,b,c,d){Jf.call(this,["auth_status"]);this.F=a;this.bf=b;this.Tg=c;this.Je=d;this.rc=new mg(a,[zc,Ac]);this.kb=null;this.Qe=!1;Hg(this)}ma(Gg,Jf);g=Gg.prototype;g.ue=function(){return this.kb||null};function Hg(a){Ac.get("redirect_request_id")&&Ig(a);var b=a.rc.get();b&&b.token?(Jg(a,b),a.bf(b.token,function(c,d){Kg(a,c,d,!1,b.token,b)},function(b,d){Lg(a,"resumeSession()",b,d)})):Jg(a,null)}
function Mg(a,b,c,d,e,f){"firebaseio-demo.com"===a.F.domain&&P("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com.");a.bf(b,function(f,k){Kg(a,f,k,!0,b,c,d||{},e)},function(b,c){Lg(a,"auth()",b,c,f)})}function Ng(a,b){a.rc.clear();Jg(a,null);a.Tg(function(a,d){if("ok"===a)Q(b,null);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;Q(b,f)}})}
function Kg(a,b,c,d,e,f,h,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=$c(e)?e:"",c=null,b&&v(b,"uid")?c=w(b,"uid"):v(f,"uid")&&(c=w(f,"uid")),f.uid=c,c="custom",b&&v(b,"provider")?c=w(b,"provider"):v(f,"provider")&&(c=w(f,"provider")),f.provider=c,a.rc.clear(),$c(e)&&(h=h||{},c=zc,"sessionOnly"===h.remember&&(c=Ac),"none"!==h.remember&&a.rc.set(f,c)),Jg(a,f)),Q(k,null,f)):(a.rc.clear(),Jg(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,Q(k,f))}
function Lg(a,b,c,d,e){P(b+" was canceled: "+d);a.rc.clear();Jg(a,null);a=Error(d);a.code=c.toUpperCase();Q(e,a)}function Og(a,b,c,d,e){Pg(a);c=new jg(d||{},{},c||{});Qg(a,[Bg],"/auth/"+b,c,e)}
function Rg(a,b,c,d){Pg(a);var e=[Ag,Dg];c=lg(c);"anonymous"===b||"password"===b?setTimeout(function(){Q(d,U("TRANSPORT_UNAVAILABLE"))},0):(c.ce.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.ce.relay_url=vg(a.F.Ab),c.ce.requestWithCredential=q(a.pc,a),Qg(a,e,"/auth/"+b,c,d))}
function Ig(a){var b=Ac.get("redirect_request_id");if(b){var c=Ac.get("redirect_client_options");Ac.remove("redirect_request_id");Ac.remove("redirect_client_options");var d=[Cg,Eg],b={requestId:b,requestKey:tg(document.location.hash)},c=new jg(c,{},b);a.Qe=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(e){}Qg(a,d,"/auth/session",c,function(){this.Qe=!1}.bind(a))}}
g.pe=function(a,b){Pg(this);var c=lg(a);c.Za._method="POST";this.pc("/users",c,function(a,c){a?Q(b,a):Q(b,a,c)})};g.Re=function(a,b){var c=this;Pg(this);var d="/users/"+encodeURIComponent(a.email),e=lg(a);e.Za._method="DELETE";this.pc(d,e,function(a,d){!a&&d&&d.uid&&c.kb&&c.kb.uid&&c.kb.uid===d.uid&&Ng(c);Q(b,a)})};g.me=function(a,b){Pg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=lg(a);d.Za._method="PUT";d.Za.password=a.newPassword;this.pc(c,d,function(a){Q(b,a)})};
g.le=function(a,b){Pg(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=lg(a);d.Za._method="PUT";d.Za.email=a.newEmail;d.Za.password=a.password;this.pc(c,d,function(a){Q(b,a)})};g.Te=function(a,b){Pg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=lg(a);d.Za._method="POST";this.pc(c,d,function(a){Q(b,a)})};g.pc=function(a,b,c){Sg(this,[Bg],a,b,c)};
function Qg(a,b,c,d,e){Sg(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?Mg(a,c.token,c,d.ld,function(a,b){a?Q(e,a):Q(e,null,b)}):Q(e,b||U("UNKNOWN_ERROR"))})}
function Sg(a,b,c,d,e){b=Pa(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){Q(e,U("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.ce),d=gb(d.Za),d.v="node-"+eb,d.transport=b.Pb(),d.suppress_status_codes=!0,a=ug()+"/"+a.F.Ab+c,b.open(a,d,function(a,b){if(a)Q(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;Q(e,c)}else Q(e,null,b)}))}
function Jg(a,b){var c=null!==a.kb||null!==b;a.kb=b;c&&a.de("auth_status",b);a.Je(null!==b)}g.xe=function(a){K("auth_status"===a,'initial event must be of type "auth_status"');return this.Qe?null:[this.kb]};function Pg(a){var b=a.F;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===ig)throw Error("This custom Firebase server ('"+a.F.domain+"') does not support delegated login.");};function Tg(a){this.gc=a;this.Ld=[];this.Rb=0;this.ne=-1;this.Db=null}function Ug(a,b,c){a.ne=b;a.Db=c;a.ne<a.Rb&&(a.Db(),a.Db=null)}function Vg(a,b,c){for(a.Ld[b]=c;a.Ld[a.Rb];){var d=a.Ld[a.Rb];delete a.Ld[a.Rb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Ab(function(){f.gc(d[e])})}if(a.Rb===a.ne){a.Db&&(clearTimeout(a.Db),a.Db(),a.Db=null);break}a.Rb++}};function Wg(a,b,c){this.oe=a;this.f=Lc(a);this.lb=this.mb=0;this.Ua=Nb(b);this.Wd=c;this.Fc=!1;this.fd=function(a){b.host!==b.Oa&&(a.ns=b.Ab);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.ib?"https://":"http://")+b.Oa+"/.lp?"+c.join("&")}}var Xg,Yg;
Wg.prototype.open=function(a,b){this.ef=0;this.la=b;this.zf=new Tg(a);this.xb=!1;var c=this;this.ob=setTimeout(function(){c.f("Timed out trying to connect.");c.eb();c.ob=null},Math.floor(3E4));Qc(function(){if(!c.xb){c.Sa=new Zg(function(a,b,d,k,l){$g(c,arguments);if(c.Sa)if(c.ob&&(clearTimeout(c.ob),c.ob=null),c.Fc=!0,"start"==a)c.id=b,c.Fg=d;else if("close"===a)b?(c.Sa.Lf=!1,Ug(c.zf,b,function(){c.eb()})):c.eb();else throw Error("Unrecognized command received: "+a);},function(a,b){$g(c,arguments);
Vg(c.zf,a,b)},function(){c.eb()},c.fd);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Sa.Ug&&(a.cb=c.Sa.Ug);a.v="5";c.Wd&&(a.s=c.Wd);a=c.fd(a);c.f("Connecting via long-poll to "+a);ah(c.Sa,a,function(){})}})};Wg.prototype.start=function(){var a=this.Sa,b=this.Fg;a.He=this.id;a.yf=b;for(a.ie=!0;bh(a););};
Wg.isAvailable=function(){return Xg||!Yg&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.Wg)&&!1};g=Wg.prototype;g.Bd=function(){};g.ad=function(){this.xb=!0;this.Sa&&(this.Sa.close(),this.Sa=null);this.xf&&(document.body.removeChild(this.xf),this.xf=null);this.ob&&(clearTimeout(this.ob),this.ob=null)};
g.eb=function(){this.xb||(this.f("Longpoll is closing itself"),this.ad(),this.la&&(this.la(this.Fc),this.la=null))};g.close=function(){this.xb||(this.f("Longpoll is being closed."),this.ad())};g.send=function(a){a=B(a);this.mb+=a.length;Kb(this.Ua,"bytes_sent",a.length);a=Hc(a);a=db(a,!0);a=Uc(a,1840);for(var b=0;b<a.length;b++){var c=this.Sa;c.Yc.push({Kg:this.ef,Sg:a.length,gf:a[b]});c.ie&&bh(c);this.ef++}};function $g(a,b){var c=B(b).length;a.lb+=c;Kb(a.Ua,"bytes_received",c)}
function Zg(a,b,c,d){this.fd=d;this.fb=c;this.Ne=new fg;this.Yc=[];this.qe=Math.floor(1E8*Math.random());this.Lf=!0;this.eg=a;this.wg=b}Zg.prototype.close=function(){this.ie=!1;if(this.Dd){this.Dd.Yg.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Dd&&(document.body.removeChild(a.Dd),a.Dd=null)},Math.floor(0))}if(this.He){var b={disconn:"t"};b.id=this.He;b.pw=this.yf;b=this.fd(b);ch(b)}if(b=this.fb)this.fb=null,b()};
function bh(a){if(a.ie&&a.Lf&&a.Ne.count()<(0<a.Yc.length?2:1)){a.qe++;var b={};b.id=a.He;b.pw=a.yf;b.ser=a.qe;for(var b=a.fd(b),c="",d=0;0<a.Yc.length;)if(1870>=a.Yc[0].gf.length+30+c.length){var e=a.Yc.shift(),c=c+"&seg"+d+"="+e.Kg+"&ts"+d+"="+e.Sg+"&d"+d+"="+e.gf;d++}else break;dh(a,b+c,a.qe);return!0}return!1}function dh(a,b,c){function d(){a.Ne.remove(c);bh(a)}a.Ne.add(c,1);var e=setTimeout(d,Math.floor(25E3));ah(a,b,function(){clearTimeout(e);d()})}function ah(a,b,c){eh(a,b,c)}var fh=null;
function ch(a,b){fh||(fh=require("request"));fh(a,function(c,d,e){if(c)throw"Rest request for "+a.url+" failed.";b&&b(e)})}function eh(a,b,c){ch({url:b,Zg:!0},function(b){gh(a,b);c()})}function gh(a,b){eval("var jsonpCB = function(pLPCommand, pRTLPCB) {"+b+"}");jsonpCB(a.eg,a.wg)};var hh=null,hh=require("faye-websocket").Client;function ih(a,b,c){this.oe=a;this.f=Lc(this.oe);this.frames=this.Ic=null;this.lb=this.mb=this.$e=0;this.Ua=Nb(b);this.Qb=(b.ib?"wss://":"ws://")+b.Oa+"/.ws?v=5";b.host!==b.Oa&&(this.Qb=this.Qb+"&ns="+b.Ab);c&&(this.Qb=this.Qb+"&s="+c)}var jh;
ih.prototype.open=function(a,b){this.fb=b;this.vg=a;this.f("Websocket connecting to "+this.Qb);this.Fc=!1;zc.set("previous_websocket_failure",!0);try{this.ua=new hh(this.Qb,[],{headers:{"User-Agent":"Firebase/5/"+eb+"/"+process.platform+"/Node"}})}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.eb();return}var e=this;this.ua.onopen=function(){e.f("Websocket connected.");e.Fc=!0};this.ua.onclose=function(){e.f("Websocket connection was disconnected.");e.ua=
null;e.eb()};this.ua.onmessage=function(a){if(null!==e.ua)if(a=a.data,e.lb+=a.length,Kb(e.Ua,"bytes_received",a.length),kh(e),null!==e.frames)lh(e,a);else{a:{K(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.$e=b;e.frames=[];a=null;break a}}e.$e=1;e.frames=[]}null!==a&&lh(e,a)}};this.ua.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.eb()}};ih.prototype.start=function(){};
ih.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==hh&&!jh};ih.responsesRequiredToBeHealthy=2;ih.healthyTimeout=3E4;g=ih.prototype;g.Bd=function(){zc.remove("previous_websocket_failure")};function lh(a,b){a.frames.push(b);if(a.frames.length==a.$e){var c=a.frames.join("");a.frames=null;c=kb(c);a.vg(c)}}
g.send=function(a){kh(this);a=B(a);this.mb+=a.length;Kb(this.Ua,"bytes_sent",a.length);a=Uc(a,16384);1<a.length&&this.ua.send(String(a.length));for(var b=0;b<a.length;b++)this.ua.send(a[b])};g.ad=function(){this.xb=!0;this.Ic&&(clearInterval(this.Ic),this.Ic=null);this.ua&&(this.ua.close(),this.ua=null)};g.eb=function(){this.xb||(this.f("WebSocket is closing itself"),this.ad(),this.fb&&(this.fb(this.Fc),this.fb=null))};g.close=function(){this.xb||(this.f("WebSocket is being closed"),this.ad())};
function kh(a){clearInterval(a.Ic);a.Ic=setInterval(function(){a.ua&&a.ua.send("0");kh(a)},Math.floor(45E3))};function mh(a){nh(this,a)}var oh=[Wg,ih];function nh(a,b){var c=ih&&ih.isAvailable(),d=c&&!(zc.sf||!0===zc.get("previous_websocket_failure"));b.Vg&&(c||P("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.dd=[ih];else{var e=a.dd=[];Vc(oh,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function ph(a){if(0<a.dd.length)return a.dd[0];throw Error("No transports available");};function qh(a,b,c,d,e,f){this.id=a;this.f=Lc("c:"+this.id+":");this.gc=c;this.Uc=d;this.la=e;this.Le=f;this.F=b;this.Kd=[];this.cf=0;this.Nf=new mh(b);this.Ta=0;this.f("Connection created");rh(this)}
function rh(a){var b=ph(a.Nf);a.I=new b("c:"+a.id+":"+a.cf++,a.F);a.Pe=b.responsesRequiredToBeHealthy||0;var c=sh(a,a.I),d=th(a,a.I);a.ed=a.I;a.$c=a.I;a.D=null;a.yb=!1;setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.vd=setTimeout(function(){a.vd=null;a.yb||(a.I&&102400<a.I.lb?(a.f("Connection exceeded healthy timeout but has received "+a.I.lb+" bytes.  Marking connection healthy."),a.yb=!0,a.I.Bd()):a.I&&10240<a.I.mb?a.f("Connection exceeded healthy timeout but has sent "+
a.I.mb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function th(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.Ta?1===a.Ta&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.F.Oa.substr(0,2)&&(zc.remove("host:"+a.F.host),a.F.Oa=a.F.host)),a.close()):b===a.D?(a.f("Secondary connection lost."),c=a.D,a.D=null,a.ed!==c&&a.$c!==c||a.close()):a.f("closing an old connection")}}
function sh(a,b){return function(c){if(2!=a.Ta)if(b===a.$c){var d=Sc("t",c);c=Sc("d",c);if("c"==d){if(d=Sc("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Wd=c.s;Cc(a.F,f);0==a.Ta&&(a.I.start(),uh(a,a.I,d),"5"!==e&&P("Protocol version mismatch detected"),c=a.Nf,(c=1<c.dd.length?c.dd[1]:null)&&vh(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.$c=a.D;for(c=0;c<a.Kd.length;++c)a.Gd(a.Kd[c]);a.Kd=[];wh(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.Le&&(a.Le(c),a.Le=null),a.la=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),Cc(a.F,c),1===a.Ta?a.close():(xh(a),rh(a))):"e"===d?Mc("Server Error: "+c):"o"===d?(a.f("got pong on primary."),yh(a),zh(a)):Mc("Unknown control packet command: "+d)}else"d"==d&&a.Gd(c)}else if(b===a.D)if(d=Sc("t",c),c=Sc("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Ah(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.D.close(),a.ed!==a.D&&a.$c!==a.D||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.Kf--,Ah(a)));else if("d"==d)a.Kd.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}qh.prototype.Ea=function(a){Bh(this,{t:"d",d:a})};function wh(a){a.ed===a.D&&a.$c===a.D&&(a.f("cleaning up and promoting a connection: "+a.D.oe),a.I=a.D,a.D=null)}
function Ah(a){0>=a.Kf?(a.f("Secondary connection is healthy."),a.yb=!0,a.D.Bd(),a.D.start(),a.f("sending client ack on secondary"),a.D.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.I.send({t:"c",d:{t:"n",d:{}}}),a.ed=a.D,wh(a)):(a.f("sending ping on secondary."),a.D.send({t:"c",d:{t:"p",d:{}}}))}qh.prototype.Gd=function(a){yh(this);this.gc(a)};function yh(a){a.yb||(a.Pe--,0>=a.Pe&&(a.f("Primary connection is healthy."),a.yb=!0,a.I.Bd()))}
function vh(a,b){a.D=new b("c:"+a.id+":"+a.cf++,a.F,a.Wd);a.Kf=b.responsesRequiredToBeHealthy||0;a.D.open(sh(a,a.D),th(a,a.D));setTimeout(function(){a.D&&(a.f("Timed out trying to upgrade."),a.D.close())},Math.floor(6E4))}function uh(a,b,c){a.f("Realtime connection established.");a.I=b;a.Ta=1;a.Uc&&(a.Uc(c),a.Uc=null);0===a.Pe?(a.f("Primary connection is healthy."),a.yb=!0):setTimeout(function(){zh(a)},Math.floor(5E3))}
function zh(a){a.yb||1!==a.Ta||(a.f("sending ping on primary."),Bh(a,{t:"c",d:{t:"p",d:{}}}))}function Bh(a,b){if(1!==a.Ta)throw"Connection is not connected";a.ed.send(b)}qh.prototype.close=function(){2!==this.Ta&&(this.f("Closing realtime connection."),this.Ta=2,xh(this),this.la&&(this.la(),this.la=null))};function xh(a){a.f("Shutting down all connections");a.I&&(a.I.close(),a.I=null);a.D&&(a.D.close(),a.D=null);a.vd&&(clearTimeout(a.vd),a.vd=null)};function Ch(a,b,c,d){this.id=Dh++;this.f=Lc("p:"+this.id+":");this.tf=this.Be=!1;this.$={};this.qa=[];this.Wc=0;this.Tc=[];this.oa=!1;this.Ya=1E3;this.Cd=3E5;this.Eb=b;this.Sc=c;this.Me=d;this.F=a;this.qb=this.Aa=this.Ha=this.Ue=null;this.Lb=!1;this.Rd={};this.Jg=0;this.kf=!0;this.Jc=this.De=null;Eh(this,0);Nf.sb().Cb("visible",this.zg,this);-1===a.host.indexOf("fblocal")&&Mf.sb().Cb("online",this.xg,this)}var Dh=0,Fh=0;g=Ch.prototype;
g.Ea=function(a,b,c){var d=++this.Jg;a={r:d,a:a,b:b};this.f(B(a));K(this.oa,"sendRequest call when we're not connected not allowed.");this.Ha.Ea(a);c&&(this.Rd[d]=c)};g.uf=function(a,b,c,d){var e=a.va(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.$[f]=this.$[f]||{};K(!this.$[f][e],"listen() called twice for same path/queryId.");a={G:d,ud:b,Gg:a,tag:c};this.$[f][e]=a;this.oa&&Gh(this,a)};
function Gh(a,b){var c=b.Gg,d=c.path.toString(),e=c.va();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=ae(c.o),f.t=b.tag);f.h=b.ud();a.Ea("q",f,function(f){var k=f.d,l=f.s;if(k&&"object"===typeof k&&v(k,"w")){var m=w(k,"w");ea(m)&&0<=Na(m,"no_index")&&P("Using an unspecified index. Consider adding "+('".indexOn": "'+c.o.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.$[d]&&a.$[d][e])===b&&(a.f("listen response",f),"ok"!==l&&Hh(a,d,e),b.G&&b.G(l,
k))})}g.N=function(a,b,c){this.Aa={gg:a,lf:!1,yc:b,jd:c};this.f("Authenticating using credential: "+a);Ih(this);(b=40==a.length)||(a=Yc(a).Ac,b="object"===typeof a&&!0===w(a,"admin"));b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Cd=3E4)};g.ee=function(a){delete this.Aa;this.oa&&this.Ea("unauth",{},function(b){a(b.s,b.d)})};
function Ih(a){var b=a.Aa;a.oa&&b&&a.Ea("auth",{cred:b.gg},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.Aa===b&&delete a.Aa;b.lf?"ok"!==d&&b.jd&&b.jd(d,c):(b.lf=!0,b.yc&&b.yc(d,c))})}g.Of=function(a,b){var c=a.path.toString(),d=a.va();this.f("Unlisten called for "+c+" "+d);if(Hh(this,c,d)&&this.oa){var e=ae(a.o);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.Ea("n",c)}};g.Ke=function(a,b,c){this.oa?Jh(this,"o",a,b,c):this.Tc.push({jc:a,action:"o",data:b,G:c})};
g.Bf=function(a,b,c){this.oa?Jh(this,"om",a,b,c):this.Tc.push({jc:a,action:"om",data:b,G:c})};g.Hd=function(a,b){this.oa?Jh(this,"oc",a,null,b):this.Tc.push({jc:a,action:"oc",data:null,G:b})};function Jh(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.Ea(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}g.put=function(a,b,c,d){Kh(this,"p",a,b,c,d)};g.wf=function(a,b,c,d){Kh(this,"m",a,b,c,d)};
function Kh(a,b,c,d,e,f){d={p:c,d:d};n(f)&&(d.h=f);a.qa.push({action:b,Hf:d,G:e});a.Wc++;b=a.qa.length-1;a.oa?Lh(a,b):a.f("Buffering put: "+c)}function Lh(a,b){var c=a.qa[b].action,d=a.qa[b].Hf,e=a.qa[b].G;a.qa[b].Hg=a.oa;a.Ea(c,d,function(d){a.f(c+" response",d);delete a.qa[b];a.Wc--;0===a.Wc&&(a.qa=[]);e&&e(d.s,d.d)})}g.Se=function(a){this.oa&&(a={c:a},this.f("reportStats",a),this.Ea("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};
g.Gd=function(a){if("r"in a){this.f("from server: "+B(a));var b=a.r,c=this.Rd[b];c&&(delete this.Rd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.Eb(c.p,c.d,!1,c.t):"m"===b?this.Eb(c.p,c.d,!0,c.t):"c"===b?Mh(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Aa,delete this.Aa,c&&c.jd&&c.jd(a,b)):"sd"===b?this.Ue?this.Ue(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n",
"\nFIREBASE: ")):Mc("Unrecognized action received from server: "+B(b)+"\nAre you using the latest client?"))}};
g.Uc=function(a){this.f("connection ready");this.oa=!0;this.Jc=(new Date).getTime();this.Me({serverTimeOffset:a-(new Date).getTime()});this.kf&&(a={},a["sdk.js."+eb.replace(/\./g,"-")]=1,"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ng())&&(a["framework.cordova"]=1),this.Se(a));Nh(this);this.kf=!1;this.Sc(!0)};
function Eh(a,b){K(!a.Ha,"Scheduling a connect when we're already connected/ing?");a.qb&&clearTimeout(a.qb);a.qb=setTimeout(function(){a.qb=null;Oh(a)},Math.floor(b))}g.zg=function(a){a&&!this.Lb&&this.Ya===this.Cd&&(this.f("Window became visible.  Reducing delay."),this.Ya=1E3,this.Ha||Eh(this,0));this.Lb=a};g.xg=function(a){a?(this.f("Browser went online."),this.Ya=1E3,this.Ha||Eh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ha&&this.Ha.close())};
g.Cf=function(){this.f("data client disconnected");this.oa=!1;this.Ha=null;for(var a=0;a<this.qa.length;a++){var b=this.qa[a];b&&"h"in b.Hf&&b.Hg&&(b.G&&b.G("disconnect"),delete this.qa[a],this.Wc--)}0===this.Wc&&(this.qa=[]);this.Rd={};Ph(this)&&(this.Lb?this.Jc&&(3E4<(new Date).getTime()-this.Jc&&(this.Ya=1E3),this.Jc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Ya=this.Cd,this.De=(new Date).getTime()),a=Math.max(0,this.Ya-((new Date).getTime()-this.De)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),Eh(this,a),this.Ya=Math.min(this.Cd,1.3*this.Ya));this.Sc(!1)};function Oh(a){if(Ph(a)){a.f("Making a connection attempt");a.De=(new Date).getTime();a.Jc=null;var b=q(a.Gd,a),c=q(a.Uc,a),d=q(a.Cf,a),e=a.id+":"+Fh++;a.Ha=new qh(e,a.F,b,c,d,function(b){P(b+" ("+a.F.toString()+")");a.tf=!0})}}g.wb=function(){this.Be=!0;this.Ha?this.Ha.close():(this.qb&&(clearTimeout(this.qb),this.qb=null),this.oa&&this.Cf())};g.qc=function(){this.Be=!1;this.Ya=1E3;this.Ha||Eh(this,0)};
function Mh(a,b,c){c=c?Qa(c,function(a){return Tc(a)}).join("$"):"default";(a=Hh(a,b,c))&&a.G&&a.G("permission_denied")}function Hh(a,b,c){b=(new L(b)).toString();var d;n(a.$[b])?(d=a.$[b][c],delete a.$[b][c],0===pa(a.$[b])&&delete a.$[b]):d=void 0;return d}function Nh(a){Ih(a);t(a.$,function(b){t(b,function(b){Gh(a,b)})});for(var b=0;b<a.qa.length;b++)a.qa[b]&&Lh(a,b);for(;a.Tc.length;)b=a.Tc.shift(),Jh(a,b.action,b.jc,b.data,b.G)}function Ph(a){var b;b=Mf.sb().hc;return!a.tf&&!a.Be&&b};var V={mg:function(){Xg=jh=!0}};V.forceLongPolling=V.mg;V.ng=function(){Yg=!0};V.forceWebSockets=V.ng;V.Ng=function(a,b){a.k.Ra.Ue=b};V.setSecurityDebugCallback=V.Ng;V.We=function(a,b){a.k.We(b)};V.stats=V.We;V.Xe=function(a,b){a.k.Xe(b)};V.statsIncrementCounter=V.Xe;V.pd=function(a){return a.k.pd};V.dataUpdateCount=V.pd;V.qg=function(a,b){a.k.Ae=b};V.interceptServerData=V.qg;V.ug=function(a){new wg(a)};V.onPopupOpen=V.ug;V.Lg=function(a){ig=a};V.setAuthenticationServer=V.Lg;function R(a,b,c){this.w=a;this.V=b;this.g=c}R.prototype.H=function(){y("Firebase.DataSnapshot.val",0,0,arguments.length);return this.w.H()};R.prototype.val=R.prototype.H;R.prototype.jf=function(){y("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.w.H(!0)};R.prototype.exportVal=R.prototype.jf;R.prototype.lg=function(){y("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.w.e()};R.prototype.exists=R.prototype.lg;
R.prototype.u=function(a){y("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));Zf("Firebase.DataSnapshot.child",a);var b=new L(a),c=this.V.u(b);return new R(this.w.Y(b),c,N)};R.prototype.child=R.prototype.u;R.prototype.Da=function(a){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Zf("Firebase.DataSnapshot.hasChild",a);var b=new L(a);return!this.w.Y(b).e()};R.prototype.hasChild=R.prototype.Da;
R.prototype.B=function(){y("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.w.B().H()};R.prototype.getPriority=R.prototype.B;R.prototype.forEach=function(a){y("Firebase.DataSnapshot.forEach",1,1,arguments.length);A("Firebase.DataSnapshot.forEach",1,a,!1);if(this.w.L())return!1;var b=this;return!!this.w.R(this.g,function(c,d){return a(new R(d,b.V.u(c),N))})};R.prototype.forEach=R.prototype.forEach;
R.prototype.td=function(){y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.w.L()?!1:!this.w.e()};R.prototype.hasChildren=R.prototype.td;R.prototype.name=function(){P("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead.");y("Firebase.DataSnapshot.name",0,0,arguments.length);return this.key()};R.prototype.name=R.prototype.name;R.prototype.key=function(){y("Firebase.DataSnapshot.key",0,0,arguments.length);return this.V.key()};
R.prototype.key=R.prototype.key;R.prototype.Bb=function(){y("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.w.Bb()};R.prototype.numChildren=R.prototype.Bb;R.prototype.lc=function(){y("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.V};R.prototype.ref=R.prototype.lc;function Qh(a,b){this.F=a;this.Ua=Nb(a);this.cd=null;this.da=new sb;this.Fd=1;this.Ra=null;b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ba=new we(this.F,q(this.Eb,this)),setTimeout(q(this.Sc,this,!0),0)):this.ba=this.Ra=new Ch(this.F,q(this.Eb,this),q(this.Sc,this),q(this.Me,this));this.Qg=Ob(a,q(function(){return new Ib(this.Ua,this.ba)},this));this.tc=new Df;
this.ze=new lb;var c=this;this.zd=new hf({Ve:function(a,b,f,h){b=[];f=c.ze.j(a.path);f.e()||(b=kf(c.zd,new Tb(Pe,a.path,f)),setTimeout(function(){h("ok")},0));return b},Zd:ba});Rh(this,"connected",!1);this.la=new mc;this.N=new Gg(a,q(this.ba.N,this.ba),q(this.ba.ee,this.ba),q(this.Je,this));this.pd=0;this.Ae=null;this.M=new hf({Ve:function(a,b,f,h){c.ba.uf(a,f,b,function(b,e){var f=h(b,e);xb(c.da,a.path,f)});return[]},Zd:function(a,b){c.ba.Of(a,b)}})}g=Qh.prototype;
g.toString=function(){return(this.F.ib?"https://":"http://")+this.F.host};g.name=function(){return this.F.Ab};function Sh(a){a=a.ze.j(new L(".info/serverTimeOffset")).H()||0;return(new Date).getTime()+a}function Th(a){a=a={timestamp:Sh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
g.Eb=function(a,b,c,d){this.pd++;var e=new L(a);b=this.Ae?this.Ae(a,b):b;a=[];d?c?(b=na(b,function(a){return M(a)}),a=sf(this.M,e,b,d)):(b=M(b),a=of(this.M,e,b,d)):c?(d=na(b,function(a){return M(a)}),a=nf(this.M,e,d)):(d=M(b),a=kf(this.M,new Tb(Pe,e,d)));d=e;0<a.length&&(d=Uh(this,e));xb(this.da,d,a)};g.Sc=function(a){Rh(this,"connected",a);!1===a&&Vh(this)};g.Me=function(a){var b=this;Vc(a,function(a,d){Rh(b,d,a)})};g.Je=function(a){Rh(this,"authenticated",a)};
function Rh(a,b,c){b=new L("/.info/"+b);c=M(c);var d=a.ze;d.Ud=d.Ud.K(b,c);c=kf(a.zd,new Tb(Pe,b,c));xb(a.da,b,c)}g.Hb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,ah:c});var e=Th(this);b=M(b,c);var e=oc(b,e),f=this.Fd++,e=jf(this.M,a,e,f,!0);tb(this.da,e);var h=this;this.ba.put(a.toString(),b.H(!0),function(b,c){var e="ok"===b;e||P("set at "+a+" failed: "+b);e=mf(h.M,f,!e);xb(h.da,a,e);Wh(d,b,c)});e=Xh(this,a);Uh(this,e);xb(this.da,e,[])};
g.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Th(this),f={};t(b,function(a,b){d=!1;var c=M(a);f[b]=oc(c,e)});if(d)zb("update() called with empty data.  Don't do anything."),Wh(c,"ok");else{var h=this.Fd++,k=lf(this.M,a,f,h);tb(this.da,k);var l=this;this.ba.wf(a.toString(),b,function(b,d){var e="ok"===b;e||P("update at "+a+" failed: "+b);var e=mf(l.M,h,!e),f=a;0<e.length&&(f=Uh(l,a));xb(l.da,f,e);Wh(c,b,d)});b=Xh(this,a);Uh(this,b);xb(this.da,a,[])}};
function Vh(a){a.f("onDisconnectEvents");var b=Th(a),c=[];nc(lc(a.la,b),G,function(b,e){c=c.concat(kf(a.M,new Tb(Pe,b,e)));var f=Xh(a,b);Uh(a,f)});a.la=new mc;xb(a.da,G,c)}g.Hd=function(a,b){var c=this;this.ba.Hd(a.toString(),function(d,e){"ok"===d&&hg(c.la,a);Wh(b,d,e)})};function Yh(a,b,c,d){var e=M(c);a.ba.Ke(b.toString(),e.H(!0),function(c,h){"ok"===c&&a.la.mc(b,e);Wh(d,c,h)})}function Zh(a,b,c,d,e){var f=M(c,d);a.ba.Ke(b.toString(),f.H(!0),function(c,d){"ok"===c&&a.la.mc(b,f);Wh(e,c,d)})}
function $h(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(zb("onDisconnect().update() called with empty data.  Don't do anything."),Wh(d,"ok")):a.ba.Bf(b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var m=M(c[l]);a.la.mc(b.u(l),m)}Wh(d,e,f)})}function ai(a,b,c){c=".info"===E(b.path)?a.zd.Mb(b,c):a.M.Mb(b,c);vb(a.da,b.path,c)}g.wb=function(){this.Ra&&this.Ra.wb()};g.qc=function(){this.Ra&&this.Ra.qc()};
g.We=function(a){if("undefined"!==typeof console){a?(this.cd||(this.cd=new Hb(this.Ua)),a=this.cd.get()):a=this.Ua.get();var b=Ra(sa(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};g.Xe=function(a){Kb(this.Ua,a);this.Qg.Mf[a]=!0};g.f=function(a){var b="";this.Ra&&(b=this.Ra.id+":");zb(b,arguments)};
function Wh(a,b,c){a&&Ab(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function bi(a,b,c,d,e){function f(){}a.f("transaction on "+b);var h=new T(a,b);h.Cb("value",f);c={path:b,update:c,G:d,status:null,Ef:Dc(),af:e,Jf:0,fe:function(){h.fc("value",f)},he:null,Ba:null,md:null,nd:null,od:null};d=a.M.za(b,void 0)||C;c.md=d;d=c.update(d.H());if(n(d)){Uf("transaction failed: Data returned ",d,c.path);c.status=1;e=Ef(a.tc,b);var k=e.Ca()||[];k.push(c);Ff(e,k);"object"===typeof d&&null!==d&&v(d,".priority")?(k=w(d,".priority"),K(Sf(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.M.za(b)||C).B().H();e=Th(a);d=M(d,k);e=oc(d,e);c.nd=d;c.od=e;c.Ba=a.Fd++;c=jf(a.M,b,e,c.Ba,c.af);xb(a.da,b,c);ci(a)}else c.fe(),c.nd=null,c.od=null,c.G&&(a=new R(c.md,new T(a,c.path),N),c.G(null,!1,a))}function ci(a,b){var c=b||a.tc;b||di(a,c);if(null!==c.Ca()){var d=ei(a,c);K(0<d.length,"Sending zero length transaction queue");Sa(d,function(a){return 1===a.status})&&fi(a,c.path(),d)}else c.td()&&c.R(function(b){ci(a,b)})}
function fi(a,b,c){for(var d=Qa(c,function(a){return a.Ba}),e=a.M.za(b,d)||C,d=e,e=e.hash(),f=0;f<c.length;f++){var h=c[f];K(1===h.status,"tryToSendTransactionQueue_: items in queue should all be run.");h.status=2;h.Jf++;var k=O(b,h.path),d=d.K(k,h.nd)}d=d.H(!0);a.ba.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(mf(a.M,c[f].Ba));if(c[f].G){var h=c[f].od,k=new T(a,c[f].path);d.push(q(c[f].G,
null,null,!0,new R(h,k,N)))}c[f].fe()}di(a,Ef(a.tc,b));ci(a);xb(a.da,b,e);for(f=0;f<d.length;f++)Ab(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(P("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].he=d;Uh(a,b)}},e)}function Uh(a,b){var c=gi(a,b),d=c.path(),c=ei(a,c);hi(a,c,d);return d}
function hi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Qa(b,function(a){return a.Ba}),h=0;h<b.length;h++){var k=b[h],l=O(c,k.path),m=!1,r;K(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)m=!0,r=k.he,e=e.concat(mf(a.M,k.Ba,!0));else if(1===k.status)if(25<=k.Jf)m=!0,r="maxretry",e=e.concat(mf(a.M,k.Ba,!0));else{var x=a.M.za(k.path,f)||C;k.md=x;var J=b[h].update(x.H());n(J)?(Uf("transaction failed: Data returned ",J,k.path),l=M(J),"object"===typeof J&&null!=
J&&v(J,".priority")||(l=l.ga(x.B())),x=k.Ba,J=Th(a),J=oc(l,J),k.nd=l,k.od=J,k.Ba=a.Fd++,Va(f,x),e=e.concat(jf(a.M,k.path,J,k.Ba,k.af)),e=e.concat(mf(a.M,x,!0))):(m=!0,r="nodata",e=e.concat(mf(a.M,k.Ba,!0)))}xb(a.da,c,e);e=[];m&&(b[h].status=3,setTimeout(b[h].fe,Math.floor(0)),b[h].G&&("nodata"===r?(k=new T(a,b[h].path),d.push(q(b[h].G,null,null,!1,new R(b[h].md,k,N)))):d.push(q(b[h].G,null,Error(r),!1,null))))}di(a,a.tc);for(h=0;h<d.length;h++)Ab(d[h]);ci(a)}}
function gi(a,b){for(var c,d=a.tc;null!==(c=E(b))&&null===d.Ca();)d=Ef(d,c),b=H(b);return d}function ei(a,b){var c=[];ii(a,b,c);c.sort(function(a,b){return a.Ef-b.Ef});return c}function ii(a,b,c){var d=b.Ca();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.R(function(b){ii(a,b,c)})}function di(a,b){var c=b.Ca();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Ff(b,0<c.length?c:null)}b.R(function(b){di(a,b)})}
function Xh(a,b){var c=gi(a,b).path(),d=Ef(a.tc,b);If(d,function(b){ji(a,b)});ji(a,d);Hf(d,function(b){ji(a,b)});return c}
function ji(a,b){var c=b.Ca();if(null!==c){for(var d=[],e=[],f=-1,h=0;h<c.length;h++)4!==c[h].status&&(2===c[h].status?(K(f===h-1,"All SENT items should be at beginning of queue."),f=h,c[h].status=4,c[h].he="set"):(K(1===c[h].status,"Unexpected transaction status in abort"),c[h].fe(),e=e.concat(mf(a.M,c[h].Ba,!0)),c[h].G&&d.push(q(c[h].G,null,Error("set"),!1,null))));-1===f?Ff(b,null):c.length=f+1;xb(a.da,b.path(),e);for(h=0;h<d.length;h++)Ab(d[h])}};function W(){this.nc={};this.Pf=!1}W.prototype.wb=function(){for(var a in this.nc)this.nc[a].wb()};W.prototype.qc=function(){for(var a in this.nc)this.nc[a].qc()};W.prototype.se=function(){this.Pf=!0};ca(W);W.prototype.interrupt=W.prototype.wb;W.prototype.resume=W.prototype.qc;function X(a,b){this.Zc=a;this.ra=b}X.prototype.cancel=function(a){y("Firebase.onDisconnect().cancel",0,1,arguments.length);A("Firebase.onDisconnect().cancel",1,a,!0);this.Zc.Hd(this.ra,a||null)};X.prototype.cancel=X.prototype.cancel;X.prototype.remove=function(a){y("Firebase.onDisconnect().remove",0,1,arguments.length);$f("Firebase.onDisconnect().remove",this.ra);A("Firebase.onDisconnect().remove",1,a,!0);Yh(this.Zc,this.ra,null,a)};X.prototype.remove=X.prototype.remove;
X.prototype.set=function(a,b){y("Firebase.onDisconnect().set",1,2,arguments.length);$f("Firebase.onDisconnect().set",this.ra);Tf("Firebase.onDisconnect().set",a,this.ra,!1);A("Firebase.onDisconnect().set",2,b,!0);Yh(this.Zc,this.ra,a,b)};X.prototype.set=X.prototype.set;
X.prototype.Hb=function(a,b,c){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);$f("Firebase.onDisconnect().setWithPriority",this.ra);Tf("Firebase.onDisconnect().setWithPriority",a,this.ra,!1);Wf("Firebase.onDisconnect().setWithPriority",2,b);A("Firebase.onDisconnect().setWithPriority",3,c,!0);Zh(this.Zc,this.ra,a,b,c)};X.prototype.setWithPriority=X.prototype.Hb;
X.prototype.update=function(a,b){y("Firebase.onDisconnect().update",1,2,arguments.length);$f("Firebase.onDisconnect().update",this.ra);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;P("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vf("Firebase.onDisconnect().update",a,this.ra);A("Firebase.onDisconnect().update",2,b,!0);
$h(this.Zc,this.ra,a,b)};X.prototype.update=X.prototype.update;function Y(a,b,c,d){this.k=a;this.path=b;this.o=c;this.ic=d}
function ki(a){var b=null,c=null;a.ma&&(b=ld(a));a.pa&&(c=nd(a));if(a.g===Md){if(a.ma){if("[MIN_NAME]"!=kd(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.pa){if("[MAX_NAME]"!=md(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===N){if(null!=b&&!Sf(b)||null!=c&&!Sf(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(K(a.g instanceof Qd||a.g===Wd,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function li(a){if(a.ma&&a.pa&&a.ja&&(!a.ja||""===a.Kb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function mi(a,b){if(!0===a.ic)throw Error(b+": You can't combine multiple orderBy calls.");}g=Y.prototype;g.lc=function(){y("Query.ref",0,0,arguments.length);return new T(this.k,this.path)};
g.Cb=function(a,b,c,d){y("Query.on",2,4,arguments.length);Xf("Query.on",a,!1);A("Query.on",2,b,!1);var e=ni("Query.on",c,d);if("value"===a)ai(this.k,this,new gd(b,e.cancel||null,e.La||null));else{var f={};f[a]=b;ai(this.k,this,new hd(f,e.cancel,e.La))}return b};
g.fc=function(a,b,c){y("Query.off",0,3,arguments.length);Xf("Query.off",a,!0);A("Query.off",2,b,!0);jb("Query.off",3,c);var d=null,e=null;"value"===a?d=new gd(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new hd(e,null,c||null));e=this.k;d=".info"===E(this.path)?e.zd.hb(this,d):e.M.hb(this,d);vb(e.da,this.path,d)};
g.Ag=function(a,b){function c(h){f&&(f=!1,e.fc(a,c),b.call(d.La,h))}y("Query.once",2,4,arguments.length);Xf("Query.once",a,!1);A("Query.once",2,b,!1);var d=ni("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.Cb(a,c,function(b){e.fc(a,c);d.cancel&&d.cancel.call(d.La,b)})};
g.Ee=function(a){P("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");y("Query.limit",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.o.Ee(a);li(b);return new Y(this.k,this.path,b,this.ic)};
g.Fe=function(a){y("Query.limitToFirst",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.Fe(a),this.ic)};
g.Ge=function(a){y("Query.limitToLast",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.Ge(a),this.ic)};
g.Bg=function(a){y("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Yf("Query.orderByChild",1,a,!1);mi(this,"Query.orderByChild");var b=$d(this.o,new Qd(a));ki(b);return new Y(this.k,
this.path,b,!0)};g.Cg=function(){y("Query.orderByKey",0,0,arguments.length);mi(this,"Query.orderByKey");var a=$d(this.o,Md);ki(a);return new Y(this.k,this.path,a,!0)};g.Dg=function(){y("Query.orderByPriority",0,0,arguments.length);mi(this,"Query.orderByPriority");var a=$d(this.o,N);ki(a);return new Y(this.k,this.path,a,!0)};g.Eg=function(){y("Query.orderByValue",0,0,arguments.length);mi(this,"Query.orderByValue");var a=$d(this.o,Wd);ki(a);return new Y(this.k,this.path,a,!0)};
g.Yd=function(a,b){y("Query.startAt",0,2,arguments.length);Tf("Query.startAt",a,this.path,!0);Yf("Query.startAt",2,b,!0);var c=this.o.Yd(a,b);li(c);ki(c);if(this.o.ma)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");n(a)||(b=a=null);return new Y(this.k,this.path,c,this.ic)};
g.qd=function(a,b){y("Query.endAt",0,2,arguments.length);Tf("Query.endAt",a,this.path,!0);Yf("Query.endAt",2,b,!0);var c=this.o.qd(a,b);li(c);ki(c);if(this.o.pa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,c,this.ic)};
g.ig=function(a,b){y("Query.equalTo",1,2,arguments.length);Tf("Query.equalTo",a,this.path,!1);Yf("Query.equalTo",2,b,!0);if(this.o.ma)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.o.pa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Yd(a,b).qd(a,b)};
g.toString=function(){y("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Z;c<a.n.length;c++)""!==a.n[c]&&(b+="/"+encodeURIComponent(String(a.n[c])));return this.k.toString()+(b||"/")};g.va=function(){var a=Tc(ae(this.o));return"{}"===a?"default":a};
function ni(a,b,c){var d={cancel:null,La:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.La=c,jb(a,4,d.La);else if(b)if("object"===typeof b&&null!==b)d.La=b;else if("function"===typeof b)d.cancel=b;else throw Error(z(a,3,!0)+" must either be a cancel callback or a context object.");return d}Y.prototype.ref=Y.prototype.lc;Y.prototype.on=Y.prototype.Cb;Y.prototype.off=Y.prototype.fc;Y.prototype.once=Y.prototype.Ag;Y.prototype.limit=Y.prototype.Ee;Y.prototype.limitToFirst=Y.prototype.Fe;
Y.prototype.limitToLast=Y.prototype.Ge;Y.prototype.orderByChild=Y.prototype.Bg;Y.prototype.orderByKey=Y.prototype.Cg;Y.prototype.orderByPriority=Y.prototype.Dg;Y.prototype.orderByValue=Y.prototype.Eg;Y.prototype.startAt=Y.prototype.Yd;Y.prototype.endAt=Y.prototype.qd;Y.prototype.equalTo=Y.prototype.ig;Y.prototype.toString=Y.prototype.toString;var Z={};Z.uc=Ch;Z.DataConnection=Z.uc;Ch.prototype.Pg=function(a,b){this.Ea("q",{p:a},b)};Z.uc.prototype.simpleListen=Z.uc.prototype.Pg;Ch.prototype.hg=function(a,b){this.Ea("echo",{d:a},b)};Z.uc.prototype.echo=Z.uc.prototype.hg;Ch.prototype.interrupt=Ch.prototype.wb;Z.Sf=qh;Z.RealTimeConnection=Z.Sf;qh.prototype.sendRequest=qh.prototype.Ea;qh.prototype.close=qh.prototype.close;
Z.pg=function(a){var b=Ch.prototype.put;Ch.prototype.put=function(c,d,e,f){n(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Ch.prototype.put=b}};Z.hijackHash=Z.pg;Z.Rf=Bc;Z.ConnectionTarget=Z.Rf;Z.va=function(a){return a.va()};Z.queryIdentifier=Z.va;Z.rg=function(a){return a.k.Ra.$};Z.listens=Z.rg;Z.se=function(a){a.se()};Z.forceRestClient=Z.se;function T(a,b){var c,d,e;if(a instanceof Qh)c=a,d=b;else{y("new Firebase",1,2,arguments.length);d=Oc(arguments[0]);c=d.Rg;"firebase"===d.domain&&Nc(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c&&"undefined"!=c||Nc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.ib||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&P("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new Bc(d.host,d.ib,c,"ws"===d.scheme||"wss"===d.scheme);d=new L(d.jc);e=d.toString();var f;!(f=!p(c.host)||0===c.host.length||!Rf(c.Ab))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(p(e)&&0!==e.length&&!Pf.test(e)));if(f)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof W)e=b;else if(p(b))e=W.sb(),c.Md=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=W.sb();f=c.toString();var h=w(e.nc,f);h||(h=new Qh(c,e.Pf),e.nc[f]=h);c=h}Y.call(this,c,d,Yd,!1)}ma(T,Y);var oi=T,pi=["Firebase"],qi=aa;pi[0]in qi||!qi.execScript||qi.execScript("var "+pi[0]);for(var ri;pi.length&&(ri=pi.shift());)!pi.length&&n(oi)?qi[ri]=oi:qi=qi[ri]?qi[ri]:qi[ri]={};T.goOffline=function(){y("Firebase.goOffline",0,0,arguments.length);W.sb().wb()};T.goOnline=function(){y("Firebase.goOnline",0,0,arguments.length);W.sb().qc()};
function Kc(a,b){K(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?yb=q(console.log,console):"object"===typeof console.log&&(yb=function(a){console.log(a)})),b&&Ac.set("logging_enabled",!0)):a?yb=a:(yb=null,Ac.remove("logging_enabled"))}T.enableLogging=Kc;T.ServerValue={TIMESTAMP:{".sv":"timestamp"}};T.SDK_VERSION=eb;T.INTERNAL=V;T.Context=W;T.TEST_ACCESS=Z;
T.prototype.name=function(){P("Firebase.name() being deprecated. Please use Firebase.key() instead.");y("Firebase.name",0,0,arguments.length);return this.key()};T.prototype.name=T.prototype.name;T.prototype.key=function(){y("Firebase.key",0,0,arguments.length);return this.path.e()?null:rc(this.path)};T.prototype.key=T.prototype.key;
T.prototype.u=function(a){y("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof L))if(null===E(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Zf("Firebase.child",b)}else Zf("Firebase.child",a);return new T(this.k,this.path.u(a))};T.prototype.child=T.prototype.u;T.prototype.parent=function(){y("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new T(this.k,a)};T.prototype.parent=T.prototype.parent;
T.prototype.root=function(){y("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};T.prototype.root=T.prototype.root;T.prototype.set=function(a,b){y("Firebase.set",1,2,arguments.length);$f("Firebase.set",this.path);Tf("Firebase.set",a,this.path,!1);A("Firebase.set",2,b,!0);this.k.Hb(this.path,a,null,b||null)};T.prototype.set=T.prototype.set;
T.prototype.update=function(a,b){y("Firebase.update",1,2,arguments.length);$f("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;P("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vf("Firebase.update",a,this.path);A("Firebase.update",2,b,!0);this.k.update(this.path,a,b||null)};T.prototype.update=T.prototype.update;
T.prototype.Hb=function(a,b,c){y("Firebase.setWithPriority",2,3,arguments.length);$f("Firebase.setWithPriority",this.path);Tf("Firebase.setWithPriority",a,this.path,!1);Wf("Firebase.setWithPriority",2,b);A("Firebase.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Hb(this.path,a,b,c||null)};T.prototype.setWithPriority=T.prototype.Hb;
T.prototype.remove=function(a){y("Firebase.remove",0,1,arguments.length);$f("Firebase.remove",this.path);A("Firebase.remove",1,a,!0);this.set(null,a)};T.prototype.remove=T.prototype.remove;
T.prototype.transaction=function(a,b,c){y("Firebase.transaction",1,3,arguments.length);$f("Firebase.transaction",this.path);A("Firebase.transaction",1,a,!1);A("Firebase.transaction",2,b,!0);if(n(c)&&"boolean"!=typeof c)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);bi(this.k,this.path,a,b||null,c)};T.prototype.transaction=T.prototype.transaction;
T.prototype.Mg=function(a,b){y("Firebase.setPriority",1,2,arguments.length);$f("Firebase.setPriority",this.path);Wf("Firebase.setPriority",1,a);A("Firebase.setPriority",2,b,!0);this.k.Hb(this.path.u(".priority"),a,null,b)};T.prototype.setPriority=T.prototype.Mg;
T.prototype.push=function(a,b){y("Firebase.push",0,2,arguments.length);$f("Firebase.push",this.path);Tf("Firebase.push",a,this.path,!0);A("Firebase.push",2,b,!0);var c=Sh(this.k),c=Lf(c),c=this.u(c);"undefined"!==typeof a&&null!==a&&c.set(a,b);return c};T.prototype.push=T.prototype.push;T.prototype.fb=function(){$f("Firebase.onDisconnect",this.path);return new X(this.k,this.path)};T.prototype.onDisconnect=T.prototype.fb;
T.prototype.N=function(a,b,c){P("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");y("Firebase.auth",1,3,arguments.length);ag("Firebase.auth",a);A("Firebase.auth",2,b,!0);A("Firebase.auth",3,b,!0);Mg(this.k.N,a,{},{remember:"none"},b,c)};T.prototype.auth=T.prototype.N;T.prototype.ee=function(a){y("Firebase.unauth",0,1,arguments.length);A("Firebase.unauth",1,a,!0);Ng(this.k.N,a)};T.prototype.unauth=T.prototype.ee;
T.prototype.ue=function(){y("Firebase.getAuth",0,0,arguments.length);return this.k.N.ue()};T.prototype.getAuth=T.prototype.ue;T.prototype.tg=function(a,b){y("Firebase.onAuth",1,2,arguments.length);A("Firebase.onAuth",1,a,!1);jb("Firebase.onAuth",2,b);this.k.N.Cb("auth_status",a,b)};T.prototype.onAuth=T.prototype.tg;T.prototype.sg=function(a,b){y("Firebase.offAuth",1,2,arguments.length);A("Firebase.offAuth",1,a,!1);jb("Firebase.offAuth",2,b);this.k.N.fc("auth_status",a,b)};T.prototype.offAuth=T.prototype.sg;
T.prototype.Wf=function(a,b,c){y("Firebase.authWithCustomToken",2,3,arguments.length);ag("Firebase.authWithCustomToken",a);A("Firebase.authWithCustomToken",2,b,!1);dg("Firebase.authWithCustomToken",3,c,!0);Mg(this.k.N,a,{},c||{},b)};T.prototype.authWithCustomToken=T.prototype.Wf;T.prototype.Xf=function(a,b,c){y("Firebase.authWithOAuthPopup",2,3,arguments.length);cg("Firebase.authWithOAuthPopup",a);A("Firebase.authWithOAuthPopup",2,b,!1);dg("Firebase.authWithOAuthPopup",3,c,!0);Rg(this.k.N,a,c,b)};
T.prototype.authWithOAuthPopup=T.prototype.Xf;T.prototype.Yf=function(a,b,c){y("Firebase.authWithOAuthRedirect",2,3,arguments.length);cg("Firebase.authWithOAuthRedirect",a);A("Firebase.authWithOAuthRedirect",2,b,!1);dg("Firebase.authWithOAuthRedirect",3,c,!0);var d=this.k.N;Pg(d);var e=[yg],f=lg(c);"anonymous"===a||"firebase"===a?Q(b,U("TRANSPORT_UNAVAILABLE")):(Ac.set("redirect_client_options",f.ld),Qg(d,e,"/auth/"+a,f,b))};T.prototype.authWithOAuthRedirect=T.prototype.Yf;
T.prototype.Zf=function(a,b,c,d){y("Firebase.authWithOAuthToken",3,4,arguments.length);cg("Firebase.authWithOAuthToken",a);A("Firebase.authWithOAuthToken",3,c,!1);dg("Firebase.authWithOAuthToken",4,d,!0);p(b)?(bg("Firebase.authWithOAuthToken",2,b),Og(this.k.N,a+"/token",{access_token:b},d,c)):(dg("Firebase.authWithOAuthToken",2,b,!1),Og(this.k.N,a+"/token",b,d,c))};T.prototype.authWithOAuthToken=T.prototype.Zf;
T.prototype.Vf=function(a,b){y("Firebase.authAnonymously",1,2,arguments.length);A("Firebase.authAnonymously",1,a,!1);dg("Firebase.authAnonymously",2,b,!0);Og(this.k.N,"anonymous",{},b,a)};T.prototype.authAnonymously=T.prototype.Vf;
T.prototype.$f=function(a,b,c){y("Firebase.authWithPassword",2,3,arguments.length);dg("Firebase.authWithPassword",1,a,!1);eg("Firebase.authWithPassword",a,"email");eg("Firebase.authWithPassword",a,"password");A("Firebase.authWithPassword",2,b,!1);dg("Firebase.authWithPassword",3,c,!0);Og(this.k.N,"password",a,c,b)};T.prototype.authWithPassword=T.prototype.$f;
T.prototype.pe=function(a,b){y("Firebase.createUser",2,2,arguments.length);dg("Firebase.createUser",1,a,!1);eg("Firebase.createUser",a,"email");eg("Firebase.createUser",a,"password");A("Firebase.createUser",2,b,!1);this.k.N.pe(a,b)};T.prototype.createUser=T.prototype.pe;T.prototype.Re=function(a,b){y("Firebase.removeUser",2,2,arguments.length);dg("Firebase.removeUser",1,a,!1);eg("Firebase.removeUser",a,"email");eg("Firebase.removeUser",a,"password");A("Firebase.removeUser",2,b,!1);this.k.N.Re(a,b)};
T.prototype.removeUser=T.prototype.Re;T.prototype.me=function(a,b){y("Firebase.changePassword",2,2,arguments.length);dg("Firebase.changePassword",1,a,!1);eg("Firebase.changePassword",a,"email");eg("Firebase.changePassword",a,"oldPassword");eg("Firebase.changePassword",a,"newPassword");A("Firebase.changePassword",2,b,!1);this.k.N.me(a,b)};T.prototype.changePassword=T.prototype.me;
T.prototype.le=function(a,b){y("Firebase.changeEmail",2,2,arguments.length);dg("Firebase.changeEmail",1,a,!1);eg("Firebase.changeEmail",a,"oldEmail");eg("Firebase.changeEmail",a,"newEmail");eg("Firebase.changeEmail",a,"password");A("Firebase.changeEmail",2,b,!1);this.k.N.le(a,b)};T.prototype.changeEmail=T.prototype.le;
T.prototype.Te=function(a,b){y("Firebase.resetPassword",2,2,arguments.length);dg("Firebase.resetPassword",1,a,!1);eg("Firebase.resetPassword",a,"email");A("Firebase.resetPassword",2,b,!1);this.k.N.Te(a,b)};T.prototype.resetPassword=T.prototype.Te;module.exports=T;

